(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{910:function(e,r,t){"use strict";t.r(r);t(22),t(2),t(8);var o={props:{form:{type:Object,default:{}}},data:function(){return{loading:!1,change_password:!1,password:{}}},computed:{role:function(){var e;return null===(e=this.$store.state.auth.user)||void 0===e?void 0:e.role.name}},methods:{clearForm:function(){this.password={}},save:function(){var e=this;this.$refs.form1.validate().then((function(r){if(r){e.loading=!0;var t=e.form.id;e.$axios({url:"/user/change_password/".concat(t,"/"),method:t?"PATCH":"POST",data:e.password}).then((function(r){e.$Swal.fire({title:"Password was changed!",type:"success"}),e.form.password=e.password.password1,e.clearForm(),e.change_password=!1})).catch((function(r){var t=r.response.data,o=Object.keys(t),n="string"==typeof t[o[0]]?t[o[0]]:t[o[0]][0];e.$Swal.fire({title:"Error",text:n||"error has occurred",type:"error"})})).finally((function(){e.loading=!1}))}}))}}},n=t(16),component=Object(n.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"user-info"},[t("div",{staticClass:"row parent"},[t("header",{staticClass:"col-12"},[t("h1",[e._v("System User")]),e._v(" "),t("span",{staticClass:"status",class:{red:!e.form.system_user}},[e._v(e._s(e.form.system_user?"ACTIVE":"NOT ACTIVE")+"\n            ")])]),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"item"},[t("p",[e._v("LOGIN:")]),e._v(" "),t("h3",[e._v(e._s(e.form.login))])]),e._v(" "),["super_admin","branch_admin"].includes(e.role)?t("div",{staticClass:"item"},[t("p",[e._v("PASSWORD: ")]),e._v(" "),t("h3",[e._v(e._s(e.form.password))]),e._v(" "),t("h3",[t("a",{attrs:{href:"#"},on:{click:function(r){e.change_password=!e.change_password}}},[t("u",[e._v("Change Password")])])])]):e._e()])]),e._v(" "),t("b-modal",{attrs:{title:"Change pasword","title-class":"font-18","body-class":"p-4"},on:{hide:function(r){return e.clearForm()}},scopedSlots:e._u([{key:"modal-footer",fn:function(r){var o=r.cancel;return[t("b-button",{attrs:{size:"md"},on:{click:function(e){return o()}}},[e._v(" Cancel ")]),e._v(" "),t("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(r){return e.save()}}},[e._v(" Save ")])]}}]),model:{value:e.change_password,callback:function(r){e.change_password=r},expression:"change_password"}},[t("ValidationObserver",{ref:"form1"},[t("div",{staticClass:"mb-2"},[t("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t("p",{staticClass:"mb-1"},[e._v("New Password")]),e._v(" "),t("b-input",{class:{invalid:o[0]},attrs:{type:"password",placeholder:"New Password"},model:{value:e.password.password1,callback:function(r){e.$set(e.password,"password1",r)},expression:"password.password1"}})]}}])})],1),e._v(" "),t("div",[t("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t("p",{staticClass:"mb-1"},[e._v("Repeat Password")]),e._v(" "),t("b-input",{class:{invalid:o[0]},attrs:{type:"password",placeholder:"New Password"},model:{value:e.password.password2,callback:function(r){e.$set(e.password,"password2",r)},expression:"password.password2"}})]}}])})],1)])],1)],1)}),[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"item"},[t("p",[e._v("ROLE:")]),e._v(" "),t("h3",[e._v("Student")])])])}],!1,null,null,null);r.default=component.exports}}]);