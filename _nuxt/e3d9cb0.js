(window.webpackJsonp=window.webpackJsonp||[]).push([[225],{1023:function(t,e,r){"use strict";r(980)},1024:function(t,e,r){var o=r(52)(!1);o.push([t.i,".l-stream[data-v-d18ce36a]{display:flex;align-items:flex-start}.l-stream .left[data-v-d18ce36a]{width:240px;padding:16px;background:#fff;border-radius:4px;margin-right:24px;display:flex;flex-direction:column}.l-stream .left.with-border[data-v-d18ce36a]{border:1px solid #e7eaed}.l-stream .left h1[data-v-d18ce36a]{margin-bottom:12px;font-weight:700;font-size:16px;line-height:19px;color:#2b2d33}.l-stream .left p[data-v-d18ce36a]{color:#6c757d;margin-bottom:12px}.l-stream .left .show-all[data-v-d18ce36a],.l-stream .left p[data-v-d18ce36a]{font-weight:400;font-size:14px;line-height:16px}.l-stream .left .show-all[data-v-d18ce36a]{border:none;padding:0;background-color:transparent;margin-left:auto;text-align:right;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#08c}.l-stream .right[data-v-d18ce36a]{flex:1}.l-stream .bg-header[data-v-d18ce36a]{padding:24px;background:#f2f5f7}.stream-body[data-v-d18ce36a]{margin:0;list-style:none;padding:24px}.stream-body .stream-item[data-v-d18ce36a]{display:flex;padding-top:16px}.stream-body .stream-item[data-v-d18ce36a]:not(:last-child){border-bottom:1px solid #f4f4f4}.stream-body .stream-item section[data-v-d18ce36a]{margin-right:16px}.stream-body .stream-item section img[data-v-d18ce36a]{width:40px;height:40px;border-radius:50%;-o-object-fit:cover;object-fit:cover}.stream-body .stream-item .stream-content[data-v-d18ce36a]{flex:1}.stream-body .stream-item .stream-content header[data-v-d18ce36a]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.stream-body .stream-item .stream-content header h1[data-v-d18ce36a]{font-weight:600;font-size:14px;line-height:16px;color:#2b2d33;margin-bottom:4px;margin-top:0}.stream-body .stream-item .stream-content header span[data-v-d18ce36a]{font-weight:400;font-size:14px;line-height:16px;text-transform:uppercase;color:#6e768e}.stream-body .stream-item .stream-content .delete-button[data-v-d18ce36a]{display:none}.stream-body .stream-item .stream-content:hover .delete-button[data-v-d18ce36a]{display:block}",""]),t.exports=o},1112:function(t,e,r){"use strict";r.r(e);r(22),r(2),r(38);var o={computed:{role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name}},data:function(){return{first:!0,show_large:!1,loading:!1,form:{lesson:"",text:""},messages:[],socket:null,interval:null}},methods:{save:function(){var t=this;this.form.lesson=this.$route.params.id,this.form.text&&this.$axios.post("/stream/",this.form).then((function(){t.form.text="",t._Get()}))},_Get:function(){var t=this;this.first&&(this.loading=!0),this.$route.params.id&&this.$axios.get("/stream/?lesson=".concat(this.$route.params.id)).then((function(e){t.messages=e.data.results})).finally((function(){t.loading=!1,t.first=!1}))},deleteStream:function(t){var e=this;this.$axios.delete("/stream/".concat(t,"/")).then((function(){e.$swal.fire({icon:"success",title:"Stream is deleted success.",confirmButtonText:"Ok",timer:1500}),e._Get()})).catch((function(){e.$swal.fire({icon:"error",title:"Stream is not deleted!",text:"Server is not working! Please try again leter.",confirmButtonText:"Ok",timer:1500})}))}},mounted:function(){var t=this;this._Get(),this.interval=setInterval((function(){t._Get()}),7e3)},beforeDestroy:function(){clearInterval(this.interval)}},n=(r(1023),r(16)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("header",{staticClass:"mb-4"},[o("h4",[t._v("Stream")]),t._v(" "),o("div",{staticClass:"l-stream"},[o("div",{staticClass:"item right"},[["teacher","student"].includes(t.role)?o("header",{staticClass:"bg-header",on:{mouseenter:function(e){t.show_large=!0},mouseleave:function(e){t.show_large=!1}}},[[o("b-textarea",{ref:"focus",staticClass:"mb-2",attrs:{placeholder:"Add a note..."},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}}),t._v(" "),o("b-button",{staticClass:"mr-1",attrs:{size:"md",variant:"success",disabled:!t.form.text},on:{click:function(e){return t.save()}}},[t._v("\n                            Save\n                        ")])]],2):t._e(),t._v(" "),t.loading?t._e():o("div",{staticClass:"stream-body"},t._l(t.messages,(function(e,i){return o("div",{key:i,staticClass:"w-full stream-item"},[o("section",[o("img",{attrs:{src:e.photo?e.photo:r(843)}})]),t._v(" "),o("div",{staticClass:"stream-content"},[o("header",{staticClass:"d-flex justify-content-between w-full"},[o("div",[o("h1",[t._v(t._s(e.user.last_name)+" "+t._s(e.user.first_name)+" ")]),t._v(" "),o("span",[t._v(" "+t._s(e.created_at)+" ")])]),t._v(" "),e.my_ms?o("el-popconfirm",{attrs:{"confirm-button-text":"OK","cancel-button-text":"No, Thanks","icon-color":"red",title:"Are you sure to delete this Stream?"},on:{confirm:function(r){return t.deleteStream(e.id)}}},[o("button",{staticClass:"button simple delete-button",attrs:{slot:"reference"},slot:"reference"},[o("i",{staticClass:"mdi mdi-delete"})])]):t._e()],1),t._v(" "),o("p",[t._v("\n                                "+t._s(e.text)+"\n                            ")])])])})),0),t._v(" "),t.loading?o("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[o("i",{staticClass:"el-icon-loading"}),t._v(" "),o("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):t._e()])])])])}),[],!1,null,"d18ce36a",null);e.default=component.exports},843:function(t,e,r){t.exports=r.p+"img/default-avatar.26ed590.svg"},980:function(t,e,r){var content=r(1024);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(53).default)("d739e5c6",content,!0,{sourceMap:!1})}}]);