(window.webpackJsonp=window.webpackJsonp||[]).push([[242,41],{1052:function(t,e,n){var content=n(1171);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("b87e9d0e",content,!0,{sourceMap:!1})},1170:function(t,e,n){"use strict";n(1052)},1171:function(t,e,n){var c=n(52)(!1);c.push([t.i,".school-create-form .item{margin-bottom:.5rem}",""]),t.exports=c},1314:function(t,e,n){"use strict";n.r(e);n(22);var c={head:function(){return{title:"".concat(this.title," | MIS tbteam.uz")}},data:function(){return{form:{},show:!1,title:"School Branches",items:[{text:"School Branches",active:!0}],rows:[]}},computed:{is_main_branch:function(){return this.$store.state.auth.user.is_main_branch},role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name}},created:function(){this.__GET()},methods:{filtering:function(){this.__GET()},__GET:function(){var t=this;this.$axios.get("/branch/").then((function(e){t.rows=e.data}))},changeStatus:function(t,e){var n=this,data={status:e};this.$axios.patch("/branch/".concat(t,"/"),data).catch((function(){n.$swal.fire({icon:"error",title:"Data is not saved!",text:"Server is not working! Please try again leter.",confirmButtonText:"Ok",timer:1500})}))}},middleware:"auth"},l=(n(1170),n(16)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),n("div",{staticClass:"pb-2 w-full d-flex"},[t.is_main_branch||["super_admin"].includes(t.role)?n("button",{staticClass:"btn ml-auto text-white btn-success",on:{click:function(e){return t.$router.push("/schools/add")}}},[n("i",{staticClass:"mdi mdi-plus-circle mr-1"}),t._v(" Create school\n        ")]):t._e()]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-centered mb-0"},[n("thead",{staticClass:"font-13 bg-light text-muted"},[n("tr",[n("th",{staticClass:"font-weight-medium"},[t._v("Short name")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Created date")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Status")]),t._v(" "),t.is_main_branch||["super_admin"].includes(t.role)?n("th",{staticClass:"font-weight-medium text-center",staticStyle:{width:"125px"}},[t._v("\n                                        Actions\n                                    ")]):t._e()])]),t._v(" "),n("tbody",t._l(t.rows,(function(e){return n("tr",{key:e.name},[n("td",{staticClass:" font-13 color-primary text-underline font-weight-bold"},[n("nuxt-link",{attrs:{to:"/schools/add/"+e.id}},[t._v(t._s(e.short_name))])],1),t._v(" "),n("td",{staticClass:"text-muted font-13"},[t._v("\n                                        "+t._s(e.created_at)+"\n                                    ")]),t._v(" "),n("td",[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(n){return t.changeStatus(e.id,e.status)}},model:{value:e.status,callback:function(n){t.$set(e,"status",n)},expression:"tableData.status"}})],1),t._v(" "),t.is_main_branch||["super_admin"].includes(t.role)?n("td",[n("ul",{staticClass:"list-inline table-action m-0"},[n("li",{staticClass:"list-inline-item"},[n("a",{staticClass:"action-icon px-1",attrs:{href:"javascript:void(0);"},on:{click:function(n){return t.$router.push("/schools/add/"+e.id)}}},[n("i",{staticClass:"mdi mdi-pencil"})])])])]):t._e()])})),0)])])])])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PageHeader:n(837).default})},837:function(t,e,n){"use strict";n.r(e);var c=n(35),l={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}},computed:Object(c.c)(["layout"])},o=n(16),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"page-title-box",class:{"page-title-box-alt":"vertical"!==t.layout.layoutType&&"two-column"!==t.layout.layoutType}},[n("h4",{staticClass:"page-title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"page-title-right"},[n("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports}}]);