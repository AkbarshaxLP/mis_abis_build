(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{1321:function(t,e,o){"use strict";o.r(e);var n=o(11),r=(o(61),o(2),{auth:!1,layout:"auth",data:function(){return{loading:!1,form:{phone:null,code:null},partner_strategy:{},partner_join:!1}},mounted:function(){this.form.phone=sessionStorage.phone,this.$refs.focusMe.focus();var t=this.$route.query;this.partner_strategy.phone=t.phone_or_login,this.partner_strategy.detail=t.phone_or_login,this.partner_join=!0,this.form.phone=this.$route.query.phone_or_login},methods:{submit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.form.code){e.next=15;break}return!0,{},data={phone:t.partner_strategy.detail,code:t.form.code},e.prev=5,t.loading=!0,e.next=9,t.$auth.loginWith("super",{data:data}).then((function(e){t.$router.push({path:"/dashboard/analytics"})})).catch((function(e){t.$Swal.fire({title:"Error",text:"Code is invalid",type:"error"})})).finally((function(){t.loading=!1}));case 9:e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))()}}}),l=o(16),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"row justify-content-center"},[o("div",{staticClass:"col-md-8 col-lg-6 col-xl-5"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body p-4"},[o("div",{staticClass:"text-center w-75 m-auto"},[o("div",{staticClass:"auth-logo"},[o("nuxt-link",{staticClass:"logo logo-dark text-center",attrs:{to:"/"}},[o("span",{staticClass:"logo-lg"})]),t._v(" "),o("nuxt-link",{staticClass:"logo logo-light text-center",attrs:{to:"/"}},[o("span",{staticClass:"logo-lg"})])],1),t._v(" "),o("p",{staticClass:"text-muted mb-4 mt-3"},[t._v("\n            код отправлен на номер "+t._s(t._f("phone")(t.form.phone))+"\n          ")])]),t._v(" "),o("div",[o("div",{staticClass:"form-group mb-3"},[o("label",{attrs:{for:"emailaddress"}},[t._v("Введите код:")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.code,expression:"form.code"}],ref:"focusMe",staticClass:"form-control",attrs:{type:"text",id:"emailaddress",required:"",placeholder:"Код:"},domProps:{value:t.form.code},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.form,"code",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group mb-0 text-center"},[o("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:t.submit}},[t._v("\n              Войти\n            ")])])])])]),t._v(" "),o("div",{staticClass:"row mt-3"},[o("div",{staticClass:"col-12 text-center"},[o("p",{staticClass:"text-muted"},[t._v("\n          Назад в\n          "),o("nuxt-link",{staticClass:"text-primary font-weight-medium ml-1",attrs:{to:"/account/login"}},[t._v("Логин")])],1)])])])])}),[],!1,null,null,null);e.default=component.exports}}]);