(window.webpackJsonp=window.webpackJsonp||[]).push([[92,19,20,21,22,23,41],{1025:function(t,e,n){"use strict";n(983)},1026:function(t,e,n){var r=n(52)(!1);r.push([t.i,'.gradebook-list .item[data-v-d0ebac70]{width:100%;margin-bottom:24px;background-color:#fff;border:1px solid #e0d6e6;display:flex;flex-direction:column;cursor:pointer;border-radius:0 0 10px 10px}.gradebook-list .item[data-v-d0ebac70]:hover{opacity:.85}.gradebook-list .item header[data-v-d0ebac70]{padding:1rem;background:#5f337b}.gradebook-list .item header h1[data-v-d0ebac70]{font-family:"Roboto";font-style:normal;font-weight:400;font-size:18px;line-height:22px;color:#fff;font-weight:600;margin:0 0 10px}.gradebook-list .item header p[data-v-d0ebac70]{font-family:"Roboto";font-style:normal;font-weight:400;font-size:13px;line-height:16px;color:#fff;opacity:.8;margin:0}.gradebook-list .item .body[data-v-d0ebac70]{flex:1;padding:1rem}.gradebook-list .item .body h2[data-v-d0ebac70]{font-weight:500;color:#808185;margin-bottom:2px}.gradebook-list .item .body h2[data-v-d0ebac70],.gradebook-list .item .body p[data-v-d0ebac70]{font-family:"Roboto";font-style:normal;font-size:13px;line-height:16px}.gradebook-list .item .body p[data-v-d0ebac70]{font-weight:400;color:#2b2d33}.gradebook-list .item footer[data-v-d0ebac70]{border-top:1px solid #f4f4f4;padding:12px 16px 16px}.gradebook-list .item footer .footer-item[data-v-d0ebac70]{padding:0;margin-bottom:8px;display:flex;justify-content:space-between}.gradebook-list .item footer .footer-item h1[data-v-d0ebac70]{font-family:"Roboto";font-style:normal;font-weight:400;font-size:13px;line-height:16px;color:#2b2d33;margin:0}.gradebook-list .item footer .footer-item h1[data-v-d0ebac70]:not(:first-child){text-align:right}.gradebook-list .item footer .footer-item span[data-v-d0ebac70]{font-family:"Roboto";font-style:normal;font-weight:400;font-size:13px;line-height:16px;color:#2b2d33;text-align:right}',""]),t.exports=r},1027:function(t,e,n){"use strict";n(984)},1028:function(t,e,n){var r=n(52)(!1);r.push([t.i,'.announcement{width:100%;background:#fff;box-shadow:0 8px 32px rgba(0,0,0,.08);border-radius:4px;display:flex;flex-wrap:wrap}.announcement.active{border:2px solid #5f337b!important}.announcement .announcement-content{padding:20px;flex:1;min-width:350px}.announcement .announcement-content-header{display:flex;justify-content:space-between}.announcement .announcement-image.w-320{width:320px}.announcement .announcement-image.padding{padding:10px 0 10px 10px}.announcement .announcement-image.in-modal{min-width:160px;width:160px}.announcement .announcement-image img{border-radius:4px;width:100%}.announcement .announcement-image .announcement-date{display:flex;align-items:center;justify-content:center;height:100%;width:100%;flex-direction:column;background:radial-gradient(50% 50% at 50%,at 50%,#5f337b 0,#40125e 100%);background:radial-gradient(50% 50% at 50% 50%,#5f337b 0,#40125e 100%);border-radius:5px;padding:30px}.announcement .announcement-image .announcement-date p{margin:0;font-family:"Roboto";font-style:normal;font-weight:500;font-size:28px;line-height:34px;letter-spacing:.0038em;color:#fff}.announcement .announcement-title{font-family:"Roboto";font-style:normal;font-weight:600;font-size:16px;line-height:20px;color:#2b2d33;margin:0}.announcement .announcement-info{line-height:22px;color:#9ba6ac}.announcement .announcement-info,.announcement .announcement-text{font-family:"Roboto";font-style:normal;font-weight:400;font-size:14px;margin:8px 0 0}.announcement .announcement-text{line-height:140%;color:#404247}.announcement .announcement-content-text{padding-top:15px}.announcement .announcement-content-text b{font-weight:600}.announcement .announcement-content-text p{margin:0}.max-3-word{display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}',""]),t.exports=r},1029:function(t,e,n){"use strict";n(985)},1030:function(t,e,n){var r=n(52)(!1);r.push([t.i,".school-create-form .item{margin-bottom:.5rem}",""]),t.exports=r},1031:function(t,e,n){"use strict";n(986)},1032:function(t,e,n){var r=n(52)(!1);r.push([t.i,".time-table-view .time-table-view-items[data-v-6d2d62c8]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px}.time-table-view .time-table-view-item[data-v-6d2d62c8]{width:100%;padding:10px}.time-table-view .empty-time-table[data-v-6d2d62c8]{width:100%;height:300px;display:flex;align-items:center;justify-content:center}",""]),t.exports=r},1042:function(t,e,n){"use strict";n.r(e);n(22),n(47),n(68),n(2),n(6),n(14),n(12),n(174),n(24);var r=n(903),o=n.n(r),c={data:function(){return{dialog_document:!1,filter:{},document:{file:null,dictionary_role:[]},data:[],currentPage:1,perPage:10,currentPage1:1,currentPage2:1,currentPage3:1,search:""}},watch:{search:function(){this.currentPage=1,this.__GET()}},computed:{role:function(){return this.$store.state.auth.user?this.$store.state.auth.user.role.name:""}},methods:{_Save:function(){var t=this;this.$refs.formdocumentTeacher.validate().then((function(e){if(e){var data=new FormData;if(t.document.dictionary_role.includes("for_all"))data.append("dictionary_role","Admin, Teacher");else{var a="";t.document.dictionary_role.forEach((function(element,i){0!=i?a=a+","+element:a+=element})),data.append("dictionary_role",a)}data.append("academic_year",t.$route.params.id),t.document.file.name&&data.append("file",t.document.file);var n=t.document.id?t.document.id:"";t.$axios({method:n?"PATCH":"POST",url:n?"/document/".concat(n,"/"):"/document/",data:data}).then((function(){t.dialog_document=!1,t.$swal.fire({icon:"success",title:n?"Document is edited success.":"Document is added success.",confirmButtonText:"Ok",timer:1500}),t.__GET(),t.Cancel()}))}else console.log("AA")}))},__GET:function(){var t=this;this.$nextTick((function(){t.$axios.get("/document/?doc=teacher&page=".concat(t.currentPage,"&search=").concat(t.search)).then((function(e){t.data=e.data}))}))},FilterName:function(a){var t="";return a.forEach((function(element,i){0!=i?t=t+","+element.name:t+=element.name})),t},EditDocument:function(t){this.document.file=t.file,this.document.id=t.id;var a=[];t.dictionary_role.forEach((function(element){a.push(element.name)})),this.document.dictionary_role=a,this.dialog_document=!0},pageChanged:function(){this.__GET()},Cancel:function(){this.document.file=null,this.dialog_document=!1,this.document.dictionary_role=[]},DeleteDocument:function(t){var e=this;this.$axios.delete("/document/".concat(t)).then((function(){e.$swal.fire({icon:"success",title:"Document is deleted success.",confirmButtonText:"Ok",timer:1500}),e.__GET()})).catch((function(){e.$swal.fire({icon:"error",title:"Document is not deleted.",text:"Please try later!",confirmButtonText:"Ok",timer:1500})}))},Extname:function(t){try{var a=o.a.extname(t);return a=a.replace(".",""),n(904)("./".concat(a,".svg"))}catch(t){return null}}},mounted:function(){this.__GET()}},l=n(16),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",{staticClass:"d-flex align-items-center mb-3"},[n("h4",[t._v("Documents for teachers")]),t._v(" "),n("div",{staticClass:"ml-auto d-flex align-items-center"},[n("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"Search...",clear:"foniy-input",clearable:"","suffix-icon":"el-icon-search"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.__GET2()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),["admin","super_admin","branch_admin"].includes(t.role)?n("b-button",{staticClass:"ml-2",staticStyle:{"min-width":"120px"},attrs:{variant:"success"},on:{click:function(e){t.dialog_document=!0}}},[n("i",{staticClass:"fas fa-plus-circle mr-1"}),t._v("\n                Upload\n            ")]):t._e()],1)]),t._v(" "),n("table",{staticClass:"table b-table"},[t._m(0),t._v(" "),n("tbody",t._l(t.data.results,(function(e,i){return n("tr",{key:i},[n("td",[n("a",{attrs:{href:e.file,target:"_blank",download:""}},[t.Extname(e.name)?n("img",{staticClass:"mr-2",staticStyle:{width:"20px"},attrs:{src:t.Extname(e.name),alt:""}}):n("i",{staticClass:"mdi mdi-file"}),t._v("\n                        "+t._s(e.name)+"\n                    ")])]),t._v(" "),n("td",[t._v(" "+t._s(t.FilterName(e.dictionary_role))+" ")]),t._v(" "),n("td",[n("div",{staticClass:"d-flex"},[["branch_admin"].includes(t.role)?n("i",{staticClass:"mdi cursor-pointer mdi-pencil",on:{click:function(n){return t.EditDocument(e)}}}):t._e(),t._v(" "),["branch_admin"].includes(t.role)?n("el-popconfirm",{staticClass:"ml-1",attrs:{"confirm-button-text":"OK","cancel-button-text":"No, Thanks","icon-color":"red",title:"Are you sure to delete this Document?"},on:{confirm:function(n){return t.DeleteDocument(e.id)}}},[n("i",{staticClass:"mdi cursor-pointer mdi-delete",attrs:{slot:"reference"},slot:"reference"})]):t._e(),t._v(" "),n("nuxt-link",{staticClass:"ml-1",attrs:{to:"/email/send?document_id="+e.id}},[n("i",{staticClass:"mdi mdi-share-variant"})])],1)])])})),0)]),t._v(" "),n("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right mb-3"},[n("ul",{staticClass:"pagination pagination-rounded mb-0"},[n("b-pagination",{attrs:{"total-rows":t.data.count,"per-page":t.perPage},on:{change:t.pageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),t._v(" "),n("b-modal",{attrs:{size:"lg",id:"semester-view-modal",title:"Document file","no-close-on-backdrop":!0},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[n("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(e){return t._Save()}}},[t._v("\n                Save\n            ")]),t._v(" "),n("b-button",{attrs:{size:"md"},on:{click:function(e){return t.Cancel()}}},[t._v(" Close ")])]},proxy:!0}]),model:{value:t.dialog_document,callback:function(e){t.dialog_document=e},expression:"dialog_document"}},[n("ValidationObserver",{ref:"formdocumentTeacher"},[n("div",{staticClass:"school-create-form"},[n("div",{staticClass:"item"},[n("p",{staticClass:"mb-1"},[t._v("Upload document:")]),t._v(" "),n("ValidationProvider",{staticClass:"mr-2 w-full",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("UploadFile",{class:{invalid:r[0]},attrs:{url:t.document.file},model:{value:t.document.file,callback:function(e){t.$set(t.document,"file",e)},expression:"document.file"}})]}}])})],1),t._v(" "),n("div",{staticClass:"item mt-3"},[n("h4",[t._v("Access")]),t._v(" "),n("b-checkbox",{attrs:{value:"for_all",title:"For all"},model:{value:t.document.dictionary_role,callback:function(e){t.$set(t.document,"dictionary_role",e)},expression:"document.dictionary_role"}},[t._v("\n                        For all\n                    ")]),t._v(" "),t.document.dictionary_role.includes("for_all")?t._e():[n("hr"),t._v(" "),n("b-form-checkbox-group",{attrs:{stacked:""},model:{value:t.document.dictionary_role,callback:function(e){t.$set(t.document,"dictionary_role",e)},expression:"document.dictionary_role"}},[n("b-checkbox",{attrs:{value:"Admin",title:"Admin"}},[t._v(" Admin ")]),t._v(" "),n("b-checkbox",{attrs:{value:"Teacher",title:"Teacher"}},[t._v(" Teacher\n                            ")])],1)]],2)])])],1)],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("File")]),t._v(" "),n("th",[t._v("Access")]),t._v(" "),n("th",[t._v("Actions")])])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{UploadFile:n(847).default})},1087:function(t,e,n){var content=n(1249);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("5d5a3a7a",content,!0,{sourceMap:!1})},1135:function(t,e,n){"use strict";n.r(e);n(8),n(7),n(9),n(6),n(10);var r=n(0),o=(n(22),n(4),n(2),n(955)),c=n(35);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={mixins:[o.a],data:function(){return{loading:!1,filter:{limit:1e3},rows:{results:[]}}},computed:d(d({},Object(c.b)("dictionary",["dic_branch","dic_academic_year","dic_grade"])),{},{role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name}}),created:function(){this.__GET()},methods:{__GET:function(){var t=this;this.loading=!0,this.filter.academic_year=this.$route.params.id,this.$axios.get("/group/",{params:this.filter}).then((function(e){t.rows=e.data})).finally((function(){t.loading=!1}))}}},f=(n(1025),n(16)),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"branch-grade-book"},[n("div",{staticClass:"d-flex flex-wrap mb-4"},[n("div",{staticClass:"item mr-2"},[n("p",{staticClass:"mb-1"},[t._v("Branch")]),t._v(" "),n("b-select",{staticStyle:{width:"200px"},attrs:{placeholder:"Choose..."},on:{change:function(e){return t.__GET()}},model:{value:t.filter.branch,callback:function(e){t.$set(t.filter,"branch",e)},expression:"filter.branch"}},t._l(t.dic_branch,(function(e){return n("option",{key:e.id,attrs:{label:e.short_name},domProps:{value:e.id}},[t._v("\n                    "+t._s(e.short_name)+"\n                ")])})),0)],1),t._v(" "),n("div",{staticClass:"item mr-2"},[n("p",{staticClass:"mb-1"},[t._v("Classes")]),t._v(" "),n("b-select",{staticStyle:{width:"200px"},attrs:{placeholder:"Choose..."},on:{change:function(e){return t.__GET()}},model:{value:t.filter.grade,callback:function(e){t.$set(t.filter,"grade",e)},expression:"filter.grade"}},t._l(t.dic_grade,(function(e){return n("option",{key:e.id,attrs:{label:e.name},domProps:{value:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),0)],1),t._v(" "),n("div",{staticClass:"item d-flex"},[n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mt-auto btn btn-clear",attrs:{title:"Clear filter"},on:{click:function(e){t.filter={limit:1e3},t.__GET()}}},[n("i",{staticClass:"mdi mdi-broom text-lg-center"})])])]),t._v(" "),t.rows.results&&t.rows.results.length&&!t.loading?n("div",{staticClass:"gradebook-list"},[n("div",{staticClass:"row"},t._l(t.rows.results,(function(e){return n("div",{key:e.id,staticClass:"col-md-3 col-sm-6"},[n("div",{staticClass:"item",on:{click:function(n){return t.$router.push("/gradebook/"+e.id+"?academic_year="+e.academic_year.id)}}},[n("header",[n("h1",[t._v(t._s(e.name)+" Class ")]),t._v(" "),n("p",[t._v(t._s(e.branch.short_name))])]),t._v(" "),n("footer",[n("div",{staticClass:"footer-item"},[n("h1",[t._v("Main Teacher:")]),t._v(" "),n("h1",[t._v(t._s(t._f("fio_dot")(e.teacher)))])]),t._v(" "),n("div",{staticClass:"footer-item"},[n("h1",[t._v("Students:")]),t._v(" "),[n("div",[n("p",{staticClass:"m-0 mb-1 font-12 text-right"},[t._v(" "+t._s(e.student_count)+" ")])])]],2)])])])})),0)]):t._e(),t._v(" "),t.loading?n("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[n("i",{staticClass:"el-icon-loading"}),t._v(" "),n("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):t._e(),t._v(" "),!t.rows.results||t.rows.results.length||t.loading?t._e():n("div",{staticClass:"empty-time-table",staticStyle:{height:"500px"}},[t._m(0)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-center"},[n("i",{staticClass:"mdi mdi-timer-outline font-20"}),t._v(" "),n("br"),t._v("\n            No data!\n        ")])}],!1,null,"d0ebac70",null);e.default=component.exports;installComponents(component,{Footer:n(131).default})},1136:function(t,e,n){"use strict";n.r(e);n(22),n(4),n(2),n(12),n(25);var r={head:function(){return{title:"".concat(this.title," | MIS tbteam.uz")}},computed:{role:function(){return this.$store.state.auth.user?this.$store.state.auth.user.role.name:""}},data:function(){return{loading:!1,rows:[],perPage:10,currentPage:1,filter:{page:1}}},methods:{_Get:function(){var t=this;this.loading=!0,this.filter.academic_year=this.$route.params.id,this.$axios.get("/announcement/",{params:this.filter}).then((function(e){t.rows=e.data})).finally((function(){t.loading=!1}))},GetMonths:function(data){var t=data.split(".");return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dek"][t=parseInt(t[1])-1]},GetDay:function(data){return data.split(".")[0]},pageChanged:function(){var t=this;this.$nextTick((function(){t._Get()}))}},mounted:function(){this._Get()},middleware:"auth"},o=(n(1027),n(16)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[["branch_admin"].includes(t.role)?n("div",{staticClass:"d-flex justify-content-end pb-3"},[n("div",[n("nuxt-link",{attrs:{to:"/announcement/add?academic_year="+t.$route.params.id}},[n("b-button",{staticClass:"d-flex align-items-center",attrs:{size:"md",variant:"success"}},[n("i",{staticClass:" ri-add-circle-fill m-0 mr-1"}),t._v(" Add News ")])],1)],1)]):t._e(),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[t._l(t.rows.results,(function(e,i){return n("div",{key:i,staticClass:"mb-2"},[n("nuxt-link",{attrs:{to:"/announcement/"+e.id}},[n("div",{staticClass:"announcement",class:{active:!e.was_read&&null!=e.was_read}},[e.photo?n("div",{staticClass:"announcement-image padding w-320"},[n("img",{attrs:{src:e.photo,alt:""}})]):n("div",{staticClass:"announcement-image w-320"},[n("div",{staticClass:"announcement-date"},[n("p",[t._v(" "+t._s(t.GetDay(e.created_at))+" ")]),t._v(" "),n("p",[t._v(" "+t._s(t.GetMonths(e.created_at))+" ")])])]),t._v(" "),n("div",{staticClass:"announcement-content hover"},[n("div",{staticClass:"announcement-content-header"},[n("div",{staticClass:"announcement-content-header-left"},[n("h1",{staticClass:"announcement-title"},[t._v(" "+t._s(e.title)+" ")]),t._v(" "),n("p",{staticClass:"announcement-info"},[n("i",{staticClass:"mdi mdi-eye"}),t._v(" "+t._s(e.read_count)+" | "+t._s(e.created_at)+" | "+t._s(e.sender.first_name)+" "+t._s(e.sender.last_name)+" ")])])]),t._v(" "),n("div",{staticClass:"announcement-content-text max-3-word",domProps:{innerHTML:t._s(e.description)}})])])])],1)})),t._v(" "),t.rows&&t.rows.count>10?n("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right mb-3 mt-3"},[n("ul",{staticClass:"pagination pagination-rounded mb-0"},[n("b-pagination",{attrs:{"total-rows":t.rows.count,"per-page":t.perPage},on:{change:t.pageChanged},model:{value:t.filter.page,callback:function(e){t.$set(t.filter,"page",e)},expression:"filter.page"}})],1)]):t._e()],2)]),t._v(" "),t.loading?n("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[n("i",{staticClass:"el-icon-loading"}),t._v(" "),n("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):t._e(),t._v(" "),!t.rows.results||t.rows.results.length||t.loading?t._e():n("div",{staticClass:"empty-time-table",staticStyle:{height:"500px"}},[t._m(0)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-center"},[n("i",{staticClass:"mdi mdi-timer-outline font-20"}),t._v(" "),n("br"),t._v("\n            No data!\n        ")])}],!1,null,null,null);e.default=component.exports},1137:function(t,e,n){"use strict";n.r(e);n(8),n(7),n(9),n(10);var r=n(0),o=(n(4),n(2),n(6),n(35));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var l={head:function(){return{title:"".concat(this.title," | MIS tbteam.uz")}},data:function(){return{loading:!1,perPage:null,attach_form:{complaints:null,student:[]},currentPage:1,totalRows:null,form:{},filter:{page:1},show:!1,title:"Complaints",items:[{text:"Complaints",active:!0}],rows:{results:[]},students:{results:[]},dic_status:[{id:"new",label:"NEW",variant:"info"},{id:"confirmed",label:"CONFIRMED",variant:"success"},{id:"checking",label:"CHECKING",variant:"warning"},{id:"need_resolve",label:"NEED RESOLVE",variant:"danger"}]}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.b)("dictionary",["dic_category"])),created:function(){this.__GET()},methods:{pageChanged:function(){var t=this;this.$nextTick((function(){t.__GET()}))},filtering:function(){this.__GET()},__GET:function(){var t=this;this.loading=!0,this.filter.academic_year=this.$route.params.id,this.$axios.get("/complaint/",{params:this.filter}).then((function(e){t.rows=e.data})).finally((function(){t.loading=!1}))},GetStatus:function(t){var data={};return this.dic_status.forEach((function(element){t==element.id&&(data=element)})),data}},middleware:"auth"},d=l,m=(n(1029),n(16)),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col-lg-12"},[n("div",{staticClass:"d-flex flex-wrap"},[n("div",{staticClass:"item mr-2"},[n("p",{staticClass:"mb-1"},[t._v("Theme type")]),t._v(" "),n("el-select",{staticClass:"foniy-select w-full ml-1",staticStyle:{width:"200px"},attrs:{placeholder:"Choose..."},on:{change:function(e){t.filter.page=1,t.__GET()}},model:{value:t.filter.category,callback:function(e){t.$set(t.filter,"category",e)},expression:"filter.category"}},t._l(t.dic_category,(function(t,i){return n("el-option",{key:i,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),n("div",{staticClass:"item mr-2"},[n("p",{staticClass:"mb-1"},[t._v("Status")]),t._v(" "),n("el-select",{staticClass:"foniy-select w-full ml-1",staticStyle:{width:"200px"},attrs:{placeholder:"Choose..."},on:{change:function(e){t.filter.page=1,t.__GET()}},model:{value:t.filter.status,callback:function(e){t.$set(t.filter,"status",e)},expression:"filter.status"}},t._l(t.dic_status,(function(t,i){return n("el-option",{key:i,attrs:{label:t.label,value:t.id}})})),1)],1),t._v(" "),n("div",{staticClass:"item mr-2"},[n("p",{staticClass:"mb-1"},[t._v("Search")]),t._v(" "),n("b-input",{staticStyle:{width:"200px"},attrs:{placeholder:"Search..."},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.filter.page=1,t.__GET()}},model:{value:t.filter.search,callback:function(e){t.$set(t.filter,"search",e)},expression:"filter.search"}})],1),t._v(" "),n("div",{staticClass:"item d-flex"},[n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mt-auto btn btn-clear",attrs:{title:"Clear filter"},on:{click:function(e){t.filter={page:1},t.__GET()}}},[n("i",{staticClass:"mdi mdi-broom text-lg-center"})])])])])]),t._v(" "),t.rows.results&&t.rows.results.length&&!t.loading?n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"table-responsive mb-3"},[n("table",{staticClass:"table table-centered mb-0"},[t._m(0),t._v(" "),n("tbody",t._l(t.rows.results,(function(e,r){return n("tr",{key:e.id},[n("td",[t._v(t._s(10*(t.filter.page-1)+r+1)+".")]),t._v(" "),n("td",[n("nuxt-link",{staticStyle:{"text-decoration-line":"underline"},attrs:{to:"/complaints/"+e.id}},[t._v(t._s(e.category))])],1),t._v(" "),n("td",{staticClass:"text-muted font-13"},[t._v("\n                                "+t._s(e.description)+"\n                            ")]),t._v(" "),n("td",{staticClass:"text-muted font-13"},[t._v("\n                                "+t._s(t._f("fio")(e.user))+"\n                            ")]),t._v(" "),n("td",{staticClass:"text-muted font-13"},[e.file?n("a",{attrs:{href:e.file,download:""}},[n("b-button",{staticClass:"d-flex align-items-center",attrs:{variant:"primary",outline:"",size:"sm"}},[n("i",{staticClass:"fas mr-2 fa-cloud-download-alt"}),t._v("\n                                        Download")])],1):n("span",[t._v("Empty")])]),t._v(" "),n("td",{staticClass:"text-muted font-13"},[t._v("\n                                "+t._s(e.created_at)+"\n                            ")]),t._v(" "),n("td",{staticClass:"text-muted font-13"},[n("b-badge",{attrs:{variant:t.GetStatus(e.status).variant}},[t._v(t._s(t.GetStatus(e.status).label))])],1)])})),0)])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-end w-full"},[n("b-pagination",{attrs:{"total-rows":t.rows.count,"per-page":10},on:{change:t.pageChanged},model:{value:t.filter.page,callback:function(e){t.$set(t.filter,"page",e)},expression:"filter.page"}})],1)])]):t._e(),t._v(" "),t.loading?n("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[n("i",{staticClass:"el-icon-loading"}),t._v(" "),n("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):t._e(),t._v(" "),!t.rows.results||t.rows.results.length||t.loading?t._e():n("div",{staticClass:"empty-time-table",staticStyle:{height:"500px"}},[t._m(1)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"font-13 bg-light text-muted"},[n("tr",[n("th",{staticClass:"font-weight-medium",staticStyle:{width:"50px"}},[t._v("#")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Theme")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Description")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("User")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("File")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Send Date")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Status")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-center"},[n("i",{staticClass:"mdi mdi-timer-outline font-20"}),t._v(" "),n("br"),t._v("\n            No data!\n        ")])}],!1,null,null,null);e.default=component.exports},1138:function(t,e,n){"use strict";n.r(e);n(7),n(9),n(6),n(10);var r=n(0),o=(n(22),n(256),n(4),n(2),n(8),n(35));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={data:function(){return{DIC_groups:[],loading:!1,curTabName:{1:"all_users",2:"for_teacher"},dic_timetable:{},currentTab:null,title:"2022-2023",show:!1,items:[{text:"Academic year",active:!1},{text:"2022-2023",active:!0}],form:{academic_year:null},rows:{results:[]},attach_form:{group:null,student:[]},students:{results:[]},DIC_teacher:[],filter:{search:""}}},computed:l(l({},Object(o.b)("dictionary",["dic_academic_year","dic_grade","dic_branch","dic_language","dic_role"])),{},{role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name},currentAY:function(){var a={},t=Number(this.$route.params.id);return this.dic_academic_year.filter((function(e){e.id===t&&(a=e)})),a},DIC_grade_options:function(){var t=this,a=[];return this.dic_grade.filter((function(e){e.id===t.form.grade&&(a=e.options)})),a}}),watch:{show:function(t){t?this.form.academic_year=Number(this.$route.params.id):this.form={}}},created:function(){this.form.academic_year=Number(this.$route.params.id),this.__GET(),this.getGroups()},methods:{deleteItem:function(t){var e=this;this.$confirm("Do you want delete this group?",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then((function(){e.loading=!0,e.$axios.delete("/group/".concat(t,"/")).then((function(){e.getGroups(),e.$message({type:"success",message:"Deleted"})})).catch((function(t){var n=t.response.data,r=Object.keys(n),o="string"==typeof n[r[0]]?n[r[0]]:n[r[0]][0];e.$Swal.fire({title:"Error",text:o||"error has occurred",type:"error"})})).finally((function(){e.loading=!1}))}))},setForm:function(t){this.form=l({},t),this.form.academic_year=this.form.academic_year?this.form.academic_year.id:null,this.form.branch=this.form.branch?this.form.branch.id:null,this.form.grade=this.form.grade?this.form.grade.id:null,this.getTeachers()},getGroups:function(){var t=this;this.filter.academic_year=this.$route.params.id,this.filter.no_page="true",this.loading=!0,this.$axios.get("/group/",{params:this.filter}).then((function(e){t.DIC_groups=e.data})).finally((function(){t.loading=!1}))},getNameOf:function(t,e){var a=null;return e.filter((function(e){e.id===t&&(a=e.name)})),a},__GET:function(){this.getGroups(),this.getTeachers()},returnRoleId:function(t){var a=null;return this.dic_role.filter((function(e){e.name===t&&(a=e.id)})),a},getTeachers:function(){var t=this;this.loading=!0;var e=this.returnRoleId("teacher");this.$axios({method:"GET",url:"/teachers/",params:{role:e}}).then((function(e){t.DIC_teacher=e.data})).finally((function(){t.loading=!1}))},clearForm:function(){},save:function(){var t=this;this.$refs.form.validate().then((function(e){if(e){var n=t.form.id;t.$axios({method:n?"PATCH":"POST",url:n?"/group/".concat(n,"/"):"/group/",data:t.form}).then((function(e){t.$Swal.fire({title:"Group has been saved!",type:"success"}),t.show=!1,t.getGroups(),t.clearForm()})).catch((function(e){var n=e.response.data,r=Object.keys(n),o="string"==typeof n[r[0]]?n[r[0]]:n[r[0]][0];t.$Swal.fire({title:"Error",text:o||"error has occurred",type:"error"})})).finally((function(){t.loading=!1}))}}))}}},m=n(16),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header",{staticClass:"d-flex align-items-center mb-3"},[r("h4",[t._v("Classes")]),t._v(" "),r("div",{staticClass:"ml-auto align-items-center d-flex"},[r("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"Search...",clear:"foniy-input ",clearable:"","suffix-icon":"el-icon-search"},on:{input:function(e){return t.getGroups()}},model:{value:t.filter.search,callback:function(e){t.$set(t.filter,"search",e)},expression:"filter.search"}}),t._v(" "),["admin","super_admin","branch_admin"].includes(t.role)?r("b-button",{staticClass:"ml-1",staticStyle:{"min-width":"120px"},attrs:{variant:"success"},on:{click:function(e){t.show=!0}}},[r("i",{staticClass:"fas fa-plus-circle mr-1"}),t._v("Add Class\n            ")]):t._e()],1)]),t._v(" "),t.DIC_groups&&t.DIC_groups.length&&!t.loading?r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-centered mb-0"},[t._m(0),t._v(" "),r("tbody",t._l(t.DIC_groups,(function(e,o){return r("tr",{key:e.id},[r("td",[t._v(t._s(o+1)+".")]),t._v(" "),r("td",{staticClass:" font-13 color-primary text-underline font-weight-bold"},[r("nuxt-link",{attrs:{to:"/groups/students/"+e.id}},[t._v(t._s(e.name))])],1),t._v(" "),r("td",{staticClass:"text-muted font-13"},[t._v("\n                        "+t._s(e.branch?e.branch.legal_name:"")+"\n                    ")]),t._v(" "),r("td",{staticClass:"text-muted font-13"},[t._v("\n                        "+t._s(e.student_count)+"\n                    ")]),t._v(" "),r("td",{staticClass:"text-muted font-13"},[t._v("\n                        "+t._s(e.academic_year?e.academic_year.name:"")+"\n                    ")]),t._v(" "),r("td",{staticClass:"text-muted font-13"},[t._v("\n                        "+t._s(e.grade?e.grade.name:"")+"\n                    ")]),t._v(" "),r("td",[r("img",{staticClass:"cursor-pointer mr-2",attrs:{src:n(839)},on:{click:function(n){t.show=!0,t.setForm(e)}}}),t._v(" "),r("i",{staticClass:"el-icon-delete cursor-pointer text-red-600",on:{click:function(n){return t.deleteItem(e.id)}}})])])})),0)])]):t._e(),t._v(" "),r("b-modal",{attrs:{size:"lg",id:"semester-view-modal",title:"Add Class","no-close-on-backdrop":!0},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.cancel;return[r("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(e){return t.save()}}},[t._v(" Save ")]),t._v(" "),r("b-button",{attrs:{size:"md"},on:{click:function(t){return n()}}},[t._v(" Close ")])]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("ValidationObserver",{ref:"form"},[r("div",{staticClass:"school-create-form"},[r("div",{staticClass:"row"},["pre-school"===t.getNameOf(t.form.grade,t.dic_grade)?r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"item"},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("p",{staticClass:"mb-1"},[t._v("Branch *")]),t._v(" "),r("b-select",{class:{invalid:n[0]},model:{value:t.form.branch,callback:function(e){t.$set(t.form,"branch",e)},expression:"form.branch"}},t._l(t.dic_branch,(function(t){return r("option",{key:t.id,attrs:{label:t.short_name},domProps:{value:t.id}})})),0)]}}],null,!1,427498222)})],1),t._v(" "),r("div",{staticClass:"item"},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("p",{staticClass:"mb-1"},[t._v("Name *")]),t._v(" "),r("b-input",{class:{invalid:n[0]},attrs:{type:"text"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})]}}],null,!1,1516983682)})],1)]):t._e(),t._v(" "),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"item"},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("p",{staticClass:"mb-1"},[t._v("Academic Year name *")]),t._v(" "),r("b-select",{class:{invalid:n[0]},attrs:{disabled:"",type:"text"},model:{value:t.form.academic_year,callback:function(e){t.$set(t.form,"academic_year",e)},expression:"form.academic_year"}},t._l(t.dic_academic_year,(function(e){return r("option",{key:e.id,attrs:{label:e.name},domProps:{value:e.id}},[t._v("\n                                        "+t._s(e.name)+"\n                                    ")])})),0)]}}])})],1),t._v(" "),r("div",{staticClass:"item"},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("p",{staticClass:"mb-1"},[t._v("Grade: *")]),t._v(" "),r("b-select",{class:{invalid:n[0]},on:{change:function(e){t.form.option=null}},model:{value:t.form.grade,callback:function(e){t.$set(t.form,"grade",e)},expression:"form.grade"}},t._l(t.dic_grade,(function(t){return r("option",{key:t.id,attrs:{label:t.name},domProps:{value:t.id}})})),0)]}}])})],1),t._v(" "),"pre-school"!==t.getNameOf(t.form.grade,t.dic_grade)?r("div",{staticClass:"item"},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("p",{staticClass:"mb-1"},[t._v("Options: *")]),t._v(" "),r("b-select",{class:{invalid:n[0]},attrs:{disabled:!t.form.grade},model:{value:t.form.option,callback:function(e){t.$set(t.form,"option",e)},expression:"form.option"}},t._l(t.DIC_grade_options,(function(t){return r("option",{key:t.id,attrs:{label:t.name},domProps:{value:t.id}})})),0)]}}],null,!1,2158860178)})],1):t._e()]),t._v(" "),r("div",{staticClass:"col-md-6"},["pre-school"!==t.getNameOf(t.form.grade,t.dic_grade)?r("div",{staticClass:"item"},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("p",{staticClass:"mb-1"},[t._v("Branch *")]),t._v(" "),r("b-select",{class:{invalid:n[0]},on:{change:t.getTeachers},model:{value:t.form.branch,callback:function(e){t.$set(t.form,"branch",e)},expression:"form.branch"}},t._l(t.dic_branch,(function(t){return r("option",{key:t.id,attrs:{label:t.short_name},domProps:{value:t.id}})})),0)]}}],null,!1,4028750442)})],1):t._e(),t._v(" "),r("div",{staticClass:"item"},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("p",{staticClass:"mb-1"},[t._v("Language: *")]),t._v(" "),r("b-select",{class:{invalid:n[0]},model:{value:t.form.education_language,callback:function(e){t.$set(t.form,"education_language",e)},expression:"form.education_language"}},t._l(t.dic_language,(function(t){return r("option",{key:t.id,attrs:{label:t.name},domProps:{value:t.id}})})),0)]}}])})],1),t._v(" "),r("div",{staticClass:"item"},[r("p",{staticClass:"mb-1"},[t._v("Class Teacher:")]),t._v(" "),r("b-select",{model:{value:t.form.teacher,callback:function(e){t.$set(t.form,"teacher",e)},expression:"form.teacher"}},t._l(t.DIC_teacher,(function(e){return r("option",{key:e.id,attrs:{label:t._f("fio")(e)},domProps:{value:e.id}})})),0)],1)])]),t._v(" "),r("div",{staticClass:"item"},[r("p",{staticClass:"mb-1"},[t._v("Description")]),t._v(" "),r("b-textarea",{attrs:{type:"text"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)])])],1),t._v(" "),t.loading?r("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[r("i",{staticClass:"el-icon-loading"}),t._v(" "),r("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):t._e(),t._v(" "),!t.DIC_groups||t.DIC_groups.length||t.loading?t._e():r("div",{staticClass:"empty-time-table",staticStyle:{height:"500px"}},[t._m(1)])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"font-13 bg-light text-muted"},[n("tr",[n("th",{staticClass:"font-weight-medium",staticStyle:{width:"50px"}},[t._v("#")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Group name")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Branch")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Students count")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Academic year")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Grade")]),t._v(" "),n("th",{staticClass:"font-weight-medium"},[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-center"},[n("i",{staticClass:"mdi mdi-timer-outline font-20"}),t._v(" "),n("br"),t._v("\n            No data!\n        ")])}],!1,null,null,null);e.default=component.exports},1139:function(t,e,n){"use strict";n.r(e);n(8),n(7),n(4),n(9),n(10);var r=n(0),o=(n(2),n(6),n(22),n(14),n(47),n(76),n(35)),c=n(5),l=n.n(c);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={computed:m(m({},Object(o.b)("dictionary",["dic_academic_year"])),{},{semester_list:function(){var t=this,data=[];return this.dic_academic_year.forEach((function(element){element.id==t.$route.params.id&&(element.semesters.forEach((function(e){e.current_semester&&(t.semester=e.id)})),t.semester||(t.semester=element.semesters[0].id),data=element.semesters)})),data},cur_academic_year:function(){return this.$route.params.id},cur_semester:function(){var t=this,data="";return this.dic_academic_year.forEach((function(element){element.id==t.cur_academic_year&&(data=element.semesters[0]&&element.semesters[0].id?element.semesters[0].id:"")})),data},role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name}}),data:function(){return{semester:"",academic_year:"",timeTableList:[],weekDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],max:0,paraList:[],loading:!1,activeName:0,TimeTableDic:[],index:0}},watch:{cur_semester:function(){this.semester=this.cur_semester},semester:function(){this._Get(this.activeName)}},methods:{_Get:function(t){var e=this;this.loading=!0,this.semester=this.semester?this.semester:this.cur_semester,this.academic_year=this.cur_academic_year;var n=t||"";this.$axios.get("/generaltimetable/?academic_year=".concat(this.academic_year,"&semester=").concat(this.semester,"&dict_table=").concat(n)).then((function(t){var n=[],r=new Date;r=l()(r).format("dddd"),e.weekDays.forEach((function(o){var c={weekday:o,current_day:o==r,timetable:[]};["teacher"].includes(e.role),t.data.forEach((function(t){var n={group:t.group.name,group_id:t.group.id,lessons:[]};t.etimetablelesson.forEach((function(t){t.weekday==o&&(t.timetable?(n.lessons=t.timetable.sort((function(a,b){return a.para>b.para?1:-1})),t.timetable.forEach((function(t){t.para>e.max&&(e.max=t.para)}))):n.lessons=[])})),c.timetable.push(n)})),n.push(c)})),e.timeTableList=n})).finally((function(){e.loading=!1}))},_GettimeTableDic:function(){var t=this;this.$axios.get("/timetabledict/?limit=1000").then((function(e){t.TimeTableDic=e.data.results}))},FilterDataWithPara:function(t,e){var data={};return t.lessons.forEach((function(element){element.para==e&&(data=element)})),"Lesson"!=data.type&&(data.subject_name=data.type,data.main_teacher=""),data.type?("Lunch"==data.type&&(data.color="color-lunch"),"Snack"==data.type&&(data.color="color-snack"),"Lesson"==data.type&&data.subject_name&&(data.color="color-"+data.subject_name.charAt(0).toLowerCase())):data.color="",data},generatePara:function(t,e){var i=0,n="";return this.TimeTableDic[e].dicttime.forEach((function(element){"Lesson"!=element.type&&element.para<t&&(i+=1),element.para==t&&(n=element.type)})),"Lesson"!=n?"":t-i}},mounted:function(){this.academic_year&&this.semester&&this._Get(),this._GettimeTableDic()}},_=(n(1031),n(16)),component=Object(_.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"general-time-table"},[n("div",{staticClass:"time-table-tabs mb-3"},[n("b-button",{attrs:{variant:0==t.activeName?"primary":"light"},on:{click:function(e){t.activeName=0,t._Get("")}}},[t._v("General")]),t._v(" "),t._l(t.TimeTableDic,(function(e,i){return n("b-button",{key:i,staticClass:"mr-1",attrs:{variant:t.activeName==e.id?"primary":"light"},on:{click:function(n){t.index=i,t.activeName=e.id,t._Get(e.id)}}},[t._v(t._s(e.name)+" ")])}))],2),t._v(" "),n("header",{staticClass:"d-flex align-items-center justify-content-between mb-3"},[n("h4",{staticClass:"m-0"},[t._v("Timetable")]),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("el-select",{staticClass:"  foniy-select mr-1",attrs:{placeholder:"Term"},model:{value:t.semester,callback:function(e){t.semester=e},expression:"semester"}},t._l(t.semester_list,(function(t,i){return n("el-option",{key:i,attrs:{label:i+1+"-term",value:t.id}})})),1)],1)]),t._v(" "),t.loading?t._e():n("div",{staticClass:"time-table-view"},[t.timeTableList&&t.timeTableList.length?n("div",{staticClass:"time-table-view-items"},t._l(t.timeTableList,(function(e,i){return n("div",{key:i,staticClass:"time-table-view-item foniy-table"},[n("div",{staticClass:"foniy-table"},[n("table",{staticClass:"border-all"},[n("tr",{class:e.current_day?"bg-promary-light":"bg-primary"},[n("th",{staticClass:"font-16 font-weight-bold text-center",attrs:{colspan:t.max+1}},[t._v("\n                                "+t._s(e.weekday)+"\n                            ")])]),t._v(" "),n("tr",{staticClass:"bg-gray"},[n("th",{staticClass:"text-center font-weight-bold",staticStyle:{width:"80px"}},[t._v("Class")]),t._v(" "),t._l(t.max,(function(e){return n("th",{key:e,staticClass:"text-center font-weight-bold"},[t._v("\n                                "+t._s(t.activeName?t.generatePara(e,t.index):"")+"\n                            ")])}))],2),t._v(" "),t._l(e.timetable,(function(e,r){return n("tr",{key:r},[n("td",{staticClass:"text-center font-weight-bold",staticStyle:{width:"80px"}},[e.group_id?n("nuxt-link",{attrs:{to:"/groups/students/"+e.group_id+"?currentTab=2"}},[t._v("\n                                    "+t._s(e.group)+" \n                                ")]):t._e()],1),t._v(" "),t._l(t.max,(function(r){return n("td",{key:r,staticClass:"text-center font-weight-bold",staticStyle:{"max-width":"300px","min-width":"100px"}},[t.FilterDataWithPara(e,r).subject_name?n("p",{staticClass:"general-lesson-name",class:t.FilterDataWithPara(e,r).color},["Lunch"==t.FilterDataWithPara(e,r).type?n("i",{staticClass:"mdi mdi-coffee mr-1"}):t._e(),t._v(" "),"Snack"==t.FilterDataWithPara(e,r).type?n("i",{staticClass:"mdi mdi-cupcake mr-1"}):t._e(),t._v(" \n                                    "+t._s(t.FilterDataWithPara(e,r).subject_name)+" \n                                    "),n("br"),t._v(" "),n("span",{staticClass:"font-10 ml-1"},[t._v(" ("+t._s(t.FilterDataWithPara(e,r).start_time)+" / "+t._s(t.FilterDataWithPara(e,r).end_time)+") ")])]):t._e()])}))],2)}))],2)])])})),0):t._e()]),t._v(" "),t.loading?n("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[n("i",{staticClass:"el-icon-loading"}),t._v(" "),n("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):t._e(),t._v(" "),!t.timeTableList||t.timeTableList.length||t.loading?t._e():n("div",{staticClass:"empty-time-table",staticStyle:{height:"500px"}},[t._m(0)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-center"},[n("i",{staticClass:"mdi mdi-timer-outline font-20"}),t._v(" "),n("br"),t._v("\n                    Timetable has not created  yet!\n                ")])}],!1,null,"6d2d62c8",null);e.default=component.exports},1248:function(t,e,n){"use strict";n(1087)},1249:function(t,e,n){var r=n(52)(!1);r.push([t.i,'.timetable-header .item[data-v-178a9f98]{margin-top:24px}.timetable-header .item p[data-v-178a9f98]{font-weight:500;font-size:10px;text-transform:uppercase;color:#6e768e;margin-bottom:4px}.timetable-header .item p[data-v-178a9f98],.timetable-header .item span[data-v-178a9f98]{font-family:"Roboto";font-style:normal;line-height:16px}.timetable-header .item span[data-v-178a9f98]{font-weight:400;font-size:14px;color:#2b2d33;line-height:normal}',""]),t.exports=r},1438:function(t,e,n){"use strict";n.r(e);n(8),n(7),n(9),n(6),n(10);var r=n(0),o=(n(22),n(256),n(4),n(2),n(35)),c=n(1042),l=n(1134),d=n(1135),m=n(1136),f=n(1137),_=n(1138),h=n(1139);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x={components:{DocumentsForTeachers:c.default,DocumentsForStudents:l.default,Gradebook:d.default,Announcements:m.default,Complaints:f.default,Classes:_.default,TimeTable:h.default},data:function(){return{DIC_groups:[],loading:!1,dic_timetable:{},currentTab:null,title:"2022-2023",dialog_timetable_1:!1,dialog_timetable_2:!1,show:!1,items:[{text:"Academic year",active:!1},{text:"2022-2023",active:!0}],form:{academic_year:null},rows:{results:[]},attach_form:{group:null,student:[]},students:{results:[]},DIC_teacher:[],academic_year:{}}},computed:y(y({},Object(o.b)("dictionary",["dic_academic_year","dic_grade","dic_branch","dic_language","dic_role"])),{},{role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name},currentAY:function(){var a={},t=Number(this.$route.params.id);return this.dic_academic_year.filter((function(e){e.id===t&&(a=e)})),a},DIC_grade_options:function(){var t=this,a=[];return this.dic_grade.filter((function(e){e.id===t.form.grade&&(a=e.options)})),a}}),watch:{show:function(t){t?this.form.academic_year=Number(this.$route.params.id):this.form={}}},created:function(){this.GetAcademicYear()},methods:{GetAcademicYear:function(){var t=this;this.loading=!0,this.$axios.get("/academic_year/".concat(this.$route.params.id)).then((function(e){t.academic_year=e.data,t.title=e.data.name})).finally((function(){t.loading=!1}))}}},C=(n(1248),n(16)),component=Object(C.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h4",[t._v("Academic Year: "+t._s(t.academic_year.name)+" ")]),t._v(" "),n("div",{staticClass:"row timetable-header"},[n("div",{staticClass:"col-md-6"},t._l(t.academic_year.semesters,(function(e,r){return n("div",{key:e.id,staticClass:"item"},[n("p",[t._v(t._s(r+1)+" semester:")]),t._v(" "),n("span",[t._v(t._s(e.start_semester)+" - "+t._s(e.end_semester))])])})),0),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"item"},[n("p",[t._v("Nane:")]),t._v(" "),n("span",[t._v(t._s(t.academic_year.name))])]),t._v(" "),t.academic_year.description?n("div",{staticClass:"item"},[n("p",[t._v("Description:")]),t._v(" "),n("span",[t._v(t._s(t.academic_year.description))])]):t._e(),t._v(" "),t.academic_year.description?n("div",{staticClass:"item"},[n("p",[t._v("Study plan:")]),t._v(" "),n("span",[t._v(t._s(t.academic_year.description))])]):t._e()])])])]),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("b-card",{attrs:{"no-body":""}},[n("b-tabs",{attrs:{pills:"",card:""},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[n("b-tab",{attrs:{title:"Classes",active:""}},[n("b-card-text",[n("Classes")],1)],1),t._v(" "),n("b-tab",{attrs:{title:"Timetable"}},[n("b-card-text",[n("TimeTable")],1)],1),t._v(" "),n("b-tab",{attrs:{title:"Gradebook"}},[n("b-card-text",[n("Gradebook")],1)],1),t._v(" "),n("b-tab",{attrs:{title:"Announcements"}},[n("b-card-text",[n("Announcements")],1)],1),t._v(" "),n("b-tab",{attrs:{title:"Complaints"}},[n("b-card-text",[n("Complaints")],1)],1),t._v(" "),n("b-tab",{attrs:{title:"Documents for teachers"}},[n("b-card-text",[n("DocumentsForTeachers")],1)],1),t._v(" "),n("b-tab",{attrs:{title:"Documents for students"}},[n("b-card-text",[n("DocumentsForStudents")],1)],1)],1)],1)],1)])],1)}),[],!1,null,"178a9f98",null);e.default=component.exports;installComponents(component,{PageHeader:n(837).default,DocumentsForTeachers:n(1042).default,DocumentsForStudents:n(1134).default})},837:function(t,e,n){"use strict";n.r(e);var r=n(35),o={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}},computed:Object(r.c)(["layout"])},c=n(16),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"page-title-box",class:{"page-title-box-alt":"vertical"!==t.layout.layoutType&&"two-column"!==t.layout.layoutType}},[n("h4",{staticClass:"page-title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"page-title-right"},[n("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},839:function(t,e,n){t.exports=n.p+"img/pen.8d1d161.svg"},955:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={data:()=>({isLoaded:!1}),computed:{route(){return this.$route.name},clonedFilter:function(){return JSON.parse(JSON.stringify(this.filter))}},watch:{clonedFilter:{handler(t,e){c(o(this.filter))===c(this.$route.query)||(this.setDefaultPageQuery({...t},{...e}),this.$router.replace({name:this.route,query:o(this.filter)}),this.$forceUpdate())},deep:!0}},mounted(){let t={};this.$route.query&&(t={...this.$route.query,...this.filter}),t&&(this.filter=t,this.$forceUpdate())},methods:{setDefaultPageQuery(t,e){let n=t.page||1;t.page&&delete t.page,e.page&&delete e.page,console.log(t,e),c(o(t))!==c(o(e))?this.filter.page=1:this.filter.page=n}}};function o(t){for(var e in t)null!==t[e]&&void 0!==t[e]&&""!==t[e]||delete t[e];return t}const c=function(t){var e=[];if(t){for(var p in t)t.hasOwnProperty(p)&&encodeURIComponent(t[p])&&encodeURIComponent(p)&&null!==t[p]&&e.push(encodeURIComponent(p)+"="+encodeURIComponent(t[p]));return e.join("&")}}},983:function(t,e,n){var content=n(1026);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("47262709",content,!0,{sourceMap:!1})},984:function(t,e,n){var content=n(1028);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("6b9042f4",content,!0,{sourceMap:!1})},985:function(t,e,n){var content=n(1030);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("5c0c6a54",content,!0,{sourceMap:!1})},986:function(t,e,n){var content=n(1032);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("5090f3fe",content,!0,{sourceMap:!1})}}]);