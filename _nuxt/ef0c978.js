(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{1111:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",[n("p",{staticClass:"font-14 text-muted m-0"},[t._v("Students")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",[n("p",{staticClass:"font-14 text-muted m-0 text-center",staticStyle:{width:"100px"}},[t._v("Overall grade")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",[n("div",{staticClass:"student-name-imame"},[n("div",{staticClass:"user-table-image"},[n("i",{staticClass:"mdi mdi-account-multiple font-18"})]),t._v(" "),n("h1",{staticClass:"font-14 font-weight-normal m-0"},[t._v(" Class average")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user-table-image"},[e("img",{attrs:{src:n(843),alt:""}})])}],r=n(0),l=(n(2),n(6),n(173),n(12),n(25),n(5)),c=n.n(l),d={head:function(){return{title:"".concat(this.title," | MIS tbteam.uz")}},computed:{totalGrade:function(){var t=0,e=this.studentList.length;return this.studentList.forEach((function(element){console.log(element.total_grade),t+=element.total_grade?element.total_grade:0})),(t/(e||1)).toFixed(2)}},data:function(){var t;return t={value:"",show:!1,loading:!1,studentList:[],filter:{search:""},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dek"],colors:{A:"red",P:"green",L:"orange",E:"black"},attandanceType:[],type:""},Object(r.a)(t,"value",""),Object(r.a)(t,"semester",1),Object(r.a)(t,"current_semester",1),Object(r.a)(t,"semesterList",[]),t},mounted:function(){this._getAttandanceType(),this.__GET(),this._getsemester()},methods:{pageChanged:function(){this.__GET()},__GET:function(){var t=this;this.loading=!0,this.$axios.get("/grades/?lesson=".concat(this.$route.params.id)).then((function(e){t.studentList=e.data})).finally((function(){t.loading=!1}))},_getAttandanceType:function(){var t=this;this.$axios.get("/attendance_status/").then((function(e){t.attandanceType=e.data}))},_getMonth:function(t){var e=c()(t).format("YYYY-MM-DD");return(e=new Date(e)).getMonth()},_getDay:function(t){return t.split("-")[2]},_getsemester:function(){var t=this;this.$axios.get("/semesterlist/?lesson=".concat(this.$route.params.id)).then((function(e){t.semesterList=e.data,t.semester=e.data[0].id}))},generateRow:function(i){var t=0,e=this.studentList.length*this.studentList[0].assignment[i].assignment_points;return this.studentList.forEach((function(element){t+=element.assignment[i].points?parseInt(element.assignment[i].points):0})),(t/(e||1)).toFixed(2)},formatDate:function(t){var a=t.split(".");return a=a[2]+"-"+a[1]+"-"+a[0]},checkCurDate:function(t){var e=new Date;return(e=c()(e).format("YYYY-MM-DD"))>=c()(this.formatDate(t)).format("YYYY-MM-DD")}},middleware:"auth"},_=n(16),component=Object(_.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("div",{staticClass:"table-responsive mb-0"},[n("header",{staticClass:"d-flex justify-content-between mb-3 align-items-center"},[n("h4",[t._v("Grades")]),t._v(" "),n("div",[n("el-select",{staticClass:"foniy-select w-full",attrs:{placeholder:"Select"},model:{value:t.semester,callback:function(e){t.semester=e},expression:"semester"}},t._l(t.semesterList,(function(e,i){return n("el-option",{key:i,attrs:{label:i+1+"-term",value:e.id,disabled:!t.checkCurDate(e.start_semester)}})})),1)],1)]),t._v(" "),n("div",{staticClass:"foniy-table mb-3"},[t.studentList[0]&&t.studentList[0].assignment?n("table",{staticClass:"border-all "},[n("tr",{staticClass:"vertical-bottom"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._l(t.studentList[0].assignment,(function(e,o){return n("th",{key:o},[n("p",{staticClass:"font-12 text-muted m-0 mb-1"},[t._v(t._s(t.months[t._getMonth(e.due_date_time)])+"  "+t._s(t._getDay(e.due_date_time))+" ")]),t._v(" "),n("nuxt-link",{staticClass:"font-14",attrs:{to:"/lessons/in-group/assignment/"+e.id+"?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+e.topic+"&topic_name="+e.topic_name}},[n("p",{staticClass:"m-0"},[t._v(t._s(e.title))])]),t._v(" "),n("p",{staticClass:"font-12 text-muted m-0 mt-1"},[t._v("out of  "+t._s(e.assignment_points)+" ")])],1)}))],2),t._v(" "),n("tr",{staticClass:"bg-gray"},[t._m(2),t._v(" "),n("th",[n("p",{staticClass:"font-14 text-center   m-0"},[t._v(t._s(t.totalGrade)+"%")])]),t._v(" "),t._l(t.studentList[0].assignment,(function(e,o){return n("th",{key:o},[n("p",{staticClass:"font-14 text-muted text-center m-0 font-weight-normal"},[t._v("   "+t._s(t.generateRow(o))+"% ")])])}))],2),t._v(" "),t._l(t.studentList,(function(e,i){return n("tr",{key:i},[n("td",[n("div",{staticClass:"student-name-imame"},[t._m(3,!0),t._v(" "),n("h1",{staticClass:"font-14 font-weight-normal m-0"},[t._v(t._s(e.last_name)+" "+t._s(e.first_name))])])]),t._v(" "),n("td",[n("p",{staticClass:"font-14 text-center m-0 font-weight-bold"},[t._v(" "+t._s(e.total_grade?e.total_grade.toFixed(2):0)+"%")])]),t._v(" "),t._l(e.assignment,(function(e,o){return n("td",{key:o},[e.students_status&&null==e.points&&!e.assignment_deadline?n("div",[n("p",{staticClass:"font-14 m-0 color-green opacity-6"},[t._v(" __/"+t._s(e.assignment_points?e.assignment_points:0)+" ")])]):t._e(),t._v(" "),e.students_status?t._e():n("div",[n("p",{staticClass:"font-14 m-0 "},[t._v("  Not assigned ")])]),t._v(" "),e.students_status&&e.points&&0==e.deadline?n("div",[n("p",{staticClass:"font-14 m-0 "},[t._v("  "+t._s(e.points)+" ")])]):t._e(),t._v(" "),e.student_status&&e.points&&1==e.deadline?n("div",[n("p",{staticClass:"font-14 m-0 color-green opacity-6"},[t._v(" "+t._s(e.points)+" ")]),t._v(" "),n("p",{staticClass:"font-12 text-muted m-0 mt-1"},[t._v("Done late")])]):t._e(),t._v(" "),e.students_status&&null!=e.deadline&&0==e.points?n("div",[n("p",{staticClass:"font-14 m-0 color-orange "},[t._v("Unchecked")])]):t._e(),t._v(" "),e.students_status&&e.assignment_deadline&&null==e.deadline?n("div",[n("p",{staticClass:"font-14 m-0 color-red"},[t._v(" Missing")])]):t._e()])}))],2)}))],2):t._e()])])])}),o,!1,null,null,null);e.default=component.exports},843:function(t,e,n){t.exports=n.p+"img/default-avatar.26ed590.svg"}}]);