(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{1113:function(t,e,r){"use strict";r.r(e);r(8),r(7),r(9),r(6),r(10);var n=r(0),o=r(11);r(61),r(22),r(47),r(2),r(4);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={props:["group_id"],computed:{role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name}},data:function(){return{loading:!1,studentList:{count:0,results:[]},currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:{search:""}}},watch:{"filter.search":function(t){""==t&&this.__GET()}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.__GET();case 2:case"end":return e.stop()}}),e)})))()},methods:{pageChanged:function(){this.__GET()},__GET:function(){var t=this;if(["teacher","branch_admin"].includes(this.role)){var e=this.group_id?this.group_id:this.$route.query.group_id;this.$nextTick((function(){t.loading=!0,t.$axios({method:"GET",params:l({group:e,page:t.currentPage},t.filter),url:"/users/student?"}).then((function(e){t.studentList=e.data})).finally((function(){t.loading=!1}))}))}}},middleware:"auth"},_=r(16),component=Object(_.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"table-responsive mb-0"},[n("header",{staticClass:"d-flex justify-content-between mb-3"},[n("h4",[t._v("Students")]),t._v(" "),n("div",[n("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"Search...",clear:"foniy-input",clearable:"","suffix-icon":"el-icon-search"},nativeOn:{change:function(e){t.currentPage=1,t.__GET()}},model:{value:t.filter.search,callback:function(e){t.$set(t.filter,"search",e)},expression:"filter.search"}})],1)]),t._v(" "),t.loading?t._e():n("div",{staticClass:"foniy-table mb-3"},[n("table",{staticClass:"border-bottom"},[t._m(0),t._v(" "),t._l(t.studentList.results,(function(e,i){return n("tr",{key:i},[n("td",[t._v(" "+t._s(10*(t.currentPage-1)+i+1)+" ")]),t._v(" "),n("td",{staticStyle:{width:"100px"}},[n("div",{staticClass:"user-table-image"},[e.photo?n("img",{attrs:{src:e.photo,alt:""}}):n("img",{attrs:{src:r(843),alt:""}})])]),t._v(" "),n("td",[n("a",[t._v("\n                             "+t._s(t._f("fio")(e))+" \n                        ")])]),t._v(" "),n("td",[t._v(" "+t._s(e.branch)+" ")]),t._v(" "),n("td",[t._v(" "+t._s(e.group)+" ")]),t._v(" "),n("td",[t._v(" "+t._s(e.login)+" ")]),t._v(" "),n("td",[t._v(" "+t._s(e.grade)+" ")])])}))],2)]),t._v(" "),t.loading?t._e():n("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[n("ul",{staticClass:"pagination pagination-rounded mb-0"},[n("b-pagination",{attrs:{"total-rows":t.studentList.count,"per-page":t.perPage},on:{change:t.pageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),t._v(" "),t.loading?n("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[n("i",{staticClass:"el-icon-loading"}),t._v(" "),n("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):t._e()])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",{staticClass:"bg-gray"},[r("th",{staticStyle:{width:"50px"}},[t._v("#")]),t._v(" "),r("th"),t._v(" "),r("th",[t._v("Full Name")]),t._v(" "),r("th",[t._v("Branch")]),t._v(" "),r("th",[t._v("Group")]),t._v(" "),r("th",[t._v("Login")]),t._v(" "),r("th",[t._v("Grade")])])}],!1,null,null,null);e.default=component.exports},843:function(t,e,r){t.exports=r.p+"img/default-avatar.26ed590.svg"}}]);