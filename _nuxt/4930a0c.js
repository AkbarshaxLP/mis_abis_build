(window.webpackJsonp=window.webpackJsonp||[]).push([[227,41,223],{1019:function(t,e,n){"use strict";n(977)},1020:function(t,e,n){var r=n(52)(!1);r.push([t.i,'.group-view-header[data-v-1b359366]{display:flex;align-items:center}.group-view-header h1[data-v-1b359366]{font-family:"Roboto";font-style:normal;font-weight:700;font-size:18px;line-height:21px;color:#2b2d33;flex:1}.students-list-table tbody td p[data-v-1b359366]{margin-bottom:4px;font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#2b2d33}.students-list-table tbody td span[data-v-1b359366]{font-family:"Roboto";font-style:normal;font-weight:400;font-size:13px;line-height:16px;color:#90999d}',""]),t.exports=r},1021:function(t,e,n){"use strict";n(979)},1022:function(t,e,n){var r=n(52)(!1);r.push([t.i,".topic-list .t-item{margin-bottom:30px}.topic-list .t-item header{border-bottom:1px solid #5f337b;display:flex;justify-content:space-between;align-items:center}.topic-list .t-item header h1{font-weight:500;font-size:22px;line-height:26px;color:#5f337b;margin-bottom:12px}.topic-list .t-item header .menu{font-size:18px;cursor:pointer}.topic-list .t-item .book-list{list-style:none;padding:0;margin-bottom:0}.topic-list .t-item .book-list .book-list-bottom{border-bottom:1px solid #edeff1}.topic-list .t-item .book-list li a{padding:10px 16px 2px}.topic-list .t-item .book-list li section{margin-right:12px;width:36px}.topic-list .t-item .book-list li h1{font-weight:500;font-size:16px;line-height:16px;color:#404247}.topic-list .t-item .book-list li span{font-weight:400;font-size:13px;line-height:16px;text-align:right;color:#aaabad;margin-left:auto}.topic-list .t-item .book-list li .assignment-items{display:flex;align-items:center;padding-top:8px;padding-left:48px}.topic-list .t-item .book-list li .assignment-items p{margin:0 10px 0 0}.l-stream{display:flex;align-items:flex-start;position:relative}.l-stream .left{width:240px;padding:16px;background:#fff;border-radius:4px;margin-right:24px;display:flex;flex-direction:column}.l-stream .left.with-border{border:1px solid #e7eaed}.l-stream .left h1{margin-bottom:12px;font-weight:700;font-size:16px;line-height:19px;color:#2b2d33}.l-stream .left p{color:#6c757d;margin-bottom:12px}.l-stream .left .show-all,.l-stream .left p{font-weight:400;font-size:14px;line-height:16px}.l-stream .left .show-all{border:none;padding:0;background-color:transparent;margin-left:auto;text-align:right;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#08c}.l-stream .right{flex:1}.l-stream .bg-header{padding:24px;background:#f2f5f7}.stream-body{margin:0;list-style:none;padding:24px}.stream-body li{display:flex;padding-top:16px}.stream-body li:not(:last-child){border-bottom:1px solid #f4f4f4}.stream-body li section{margin-right:16px}.stream-body li section img{width:40px;height:40px;border-radius:50%;-o-object-fit:cover;object-fit:cover}.stream-body li .content header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.stream-body li .content header h1{font-weight:600;font-size:14px;line-height:16px;color:#2b2d33;margin-bottom:4px;margin-top:0}.stream-body li .content header span{font-weight:400;font-size:14px;line-height:16px;text-transform:uppercase;color:#6e768e}.light-p{color:#aaabad}",""]),t.exports=r},1023:function(t,e,n){"use strict";n(980)},1024:function(t,e,n){var r=n(52)(!1);r.push([t.i,".l-stream[data-v-d18ce36a]{display:flex;align-items:flex-start}.l-stream .left[data-v-d18ce36a]{width:240px;padding:16px;background:#fff;border-radius:4px;margin-right:24px;display:flex;flex-direction:column}.l-stream .left.with-border[data-v-d18ce36a]{border:1px solid #e7eaed}.l-stream .left h1[data-v-d18ce36a]{margin-bottom:12px;font-weight:700;font-size:16px;line-height:19px;color:#2b2d33}.l-stream .left p[data-v-d18ce36a]{color:#6c757d;margin-bottom:12px}.l-stream .left .show-all[data-v-d18ce36a],.l-stream .left p[data-v-d18ce36a]{font-weight:400;font-size:14px;line-height:16px}.l-stream .left .show-all[data-v-d18ce36a]{border:none;padding:0;background-color:transparent;margin-left:auto;text-align:right;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#08c}.l-stream .right[data-v-d18ce36a]{flex:1}.l-stream .bg-header[data-v-d18ce36a]{padding:24px;background:#f2f5f7}.stream-body[data-v-d18ce36a]{margin:0;list-style:none;padding:24px}.stream-body .stream-item[data-v-d18ce36a]{display:flex;padding-top:16px}.stream-body .stream-item[data-v-d18ce36a]:not(:last-child){border-bottom:1px solid #f4f4f4}.stream-body .stream-item section[data-v-d18ce36a]{margin-right:16px}.stream-body .stream-item section img[data-v-d18ce36a]{width:40px;height:40px;border-radius:50%;-o-object-fit:cover;object-fit:cover}.stream-body .stream-item .stream-content[data-v-d18ce36a]{flex:1}.stream-body .stream-item .stream-content header[data-v-d18ce36a]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.stream-body .stream-item .stream-content header h1[data-v-d18ce36a]{font-weight:600;font-size:14px;line-height:16px;color:#2b2d33;margin-bottom:4px;margin-top:0}.stream-body .stream-item .stream-content header span[data-v-d18ce36a]{font-weight:400;font-size:14px;line-height:16px;text-transform:uppercase;color:#6e768e}.stream-body .stream-item .stream-content .delete-button[data-v-d18ce36a]{display:none}.stream-body .stream-item .stream-content:hover .delete-button[data-v-d18ce36a]{display:block}",""]),t.exports=r},1093:function(t,e,n){var content=n(1261);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("8acb422e",content,!0,{sourceMap:!1})},1109:function(t,e,n){"use strict";n.r(e);var r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{attrs:{rowspan:"2"}},[n("p",{staticClass:"font-16 text-muted m-0"},[t._v("Students")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{attrs:{colspan:"4"}},[n("p",{staticClass:"font-16 text-muted m-0"},[t._v("Total")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{staticClass:"bg-gray",staticStyle:{width:"50px"}},[n("p",{staticClass:"font-14 text-center m-0 font-weight-bold color-green"},[t._v("\n                            P\n                        ")])]),t._v(" "),n("th",{staticClass:"bg-gray",staticStyle:{width:"50px"}},[n("p",{staticClass:"font-14 text-center m-0 font-weight-bold color-red"},[t._v("\n                            A\n                        ")])]),t._v(" "),n("th",{staticClass:"bg-gray",staticStyle:{width:"50px"}},[n("p",{staticClass:"font-14 text-center m-0 font-weight-bold color-orange"},[t._v("\n                            L\n                        ")])]),t._v(" "),n("th",{staticClass:"bg-gray",staticStyle:{width:"50px"}},[n("p",{staticClass:"font-14 text-center m-0 font-weight-bold"},[t._v("E")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user-table-image"},[e("img",{attrs:{src:n(843),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"mr-1 font-16 font-weight-bold cursor-pointer"},[e("i",{staticClass:"mdi mdi-close-thick"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"mr-2"},[n("span",{staticClass:"color-green font-weight-bold"},[t._v("P")]),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("-Present")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"mr-2"},[n("span",{staticClass:"color-red font-weight-bold"},[t._v("A")]),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("-Absent")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"mr-2"},[n("span",{staticClass:"color-orange font-weight-bold"},[t._v("L")]),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("-Late")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"mr-2"},[n("span",{staticClass:"font-weight-bold"},[t._v("E")]),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("-Excused")])])}],o=(n(2),n(14),n(6),n(12),n(25),n(22),n(5)),l=n.n(o),c={data:function(){return{loading:!1,studentList:[],colors:{Absent:"red",Present:"green",Late:"orange",Excused:"black",N:""},attandanceList:[],attandanceType:[],semester:1,current_semester:"",weekDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],week:1,semesterList:[],semesterStart:"2022-09-19",semesterEnd:"2022-09-19"}},watch:{semester:function(){this._GET(),this.GetSemesterDate()},week:function(){this._GET()}},mounted:function(){this._getAttandanceType(),this._getsemester()},methods:{pageChanged:function(){this._GET()},_GET:function(){var t=this;0==this.attandanceList.length&&(this.loading=!0),this.$axios.get("/attendancelist/?lesson=".concat(this.$route.params.id,"&week=").concat(this.week,"&semester=").concat(this.semester)).then((function(e){t.attandanceList=[];var a=[];e.data.data&&e.data.data.forEach((function(element){a=[],element.attendance.forEach((function(e){e.attendance&&e.attendance.attendance_status_id?a.push({id:e.attendance.id,attendance_status_id:e.attendance.attendance_status_id,attendance_status:t.getName(e.attendance.attendance_status_id),edit:!1}):a.push({id:"",attendance_status_id:"",attendance_status:"",edit:!1})})),t.attandanceList.push(a)})),t.studentList=e.data.data})).finally((function(){t.loading=!1}))},_getAttandanceType:function(){var t=this;this.$axios.get("/attendance_status/").then((function(e){t.attandanceType=e.data}))},_getsemester:function(){var t=this;this.$axios.get("/semesterlist/?lesson=".concat(this.$route.params.id)).then((function(e){t.semesterList=e.data,t.semester=e.data[0].id,t.current_semester=e.data[0].id,t.semesterStart=t.formatDate(e.data[0].start_semester),t.semesterEnd=t.formatDate(e.data[0].end_semester),e.data.forEach((function(element){element.current_semester&&(t.semester=element.id,t.current_semester=element.id,t.semesterStart=t.formatDate(element.start_semester),t.semesterEnd=t.formatDate(element.end_semester))}))}))},_getDay:function(t){return t.split("-")[2]},_getWeek:function(t){var e=l()(t).format("YYYY-MM-DD");return(e=new Date(e)).getDay()},formatDate:function(t){var a=t.split(".");return a=a[2]+"-"+a[1]+"-"+a[0]},getFirstLetter:function(a){return a?a.charAt(0):null},getName:function(t){var a="";return this.attandanceType.forEach((function(element){element.id==t&&(a=element.name)})),a},getId:function(t){var a="";return this.attandanceType.forEach((function(element){element.name==t&&(a=element.id)})),a},markStudent:function(i,t,e){var n=this,r=this.studentList[i].attendance[t].attendance?this.studentList[i].attendance[t].attendance.id:null;console.log(r);var data=new FormData;data.append("semester",this.semester),data.append("lesson",this.$route.params.id),data.append("attendance_date",this.studentList[i].attendance[t].attendance_date),data.append("attendance_students[0]student",e),data.append("attendance_students[0]attendance_status",this.attandanceList[i][t].attendance_status_id),this.$axios({method:"POST",url:"/attendance/",data:data}).then((function(){n._GET()})),this.attandanceList[i][t].edit=!1,this.studentList[i].attendance[t].attendance=this.attandanceList[i][t]},changeMark:function(i,t){this.attandanceList[i][t].attendance_status=this.getName(this.attandanceList[i][t].attendance_status_id)},markEdit:function(i,t){this.attandanceList[i][t].edit=!0},GetSemesterDate:function(){var t=this;this.week=1,this.semesterList.forEach((function(element){element.id==t.semester&&(t.semesterStart=t.formatDate(element.start_semester),t.semesterEnd=t.formatDate(element.end_semester))}))},checkCurDate:function(t){var e=new Date;return(e=l()(e).format("YYYY-MM-DD"))>=l()(this.formatDate(t)).format("YYYY-MM-DD")}},middleware:"auth"},d=(n(1019),n(16)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"table-responsive mb-0"},[n("header",{staticClass:"mb-3"},[n("h4",[t._v("Attendance")]),t._v(" "),n("div",{staticClass:"d-flex justify-content-between pt-2"},[n("div",[n("el-select",{staticClass:"foniy-select w-full",attrs:{placeholder:"Select"},model:{value:t.semester,callback:function(e){t.semester=e},expression:"semester"}},t._l(t.semesterList,(function(e,i){return n("el-option",{key:i,attrs:{label:i+1+"-term",value:e.id,disabled:!t.checkCurDate(e.start_semester)}})})),1)],1),t._v(" "),n("weekPagination",{attrs:{start:t.semesterStart,end:t.semesterEnd},model:{value:t.week,callback:function(e){t.week=e},expression:"week"}})],1)]),t._v(" "),t.loading?t._e():n("div",{staticClass:"foniy-table mb-3 "},[t.studentList&&t.studentList[0]?n("table",{staticClass:"border-all"},[n("tr",{staticClass:"vertical-bottom"},[t._m(0),t._v(" "),t._l(t.studentList[0].attendance,(function(e,i){return n("th",{key:i,staticStyle:{width:"150px"},attrs:{rowspan:"2"}},[n("div",{staticClass:"week-day",class:{active:e.current_day}},[n("p",[t._v(" "+t._s(t.weekDays[t._getWeek(e.attendance_date)]))]),t._v(" "),n("div",{staticClass:"cricle-number"},[t._v(" "+t._s(t._getDay(e.attendance_date))+" ")])])])})),t._v(" "),t._m(1)],2),t._v(" "),t._m(2),t._v(" "),t._l(t.studentList,(function(e,i){return n("tr",{key:i},[n("td",[n("div",{staticClass:"student-name-imame"},[t._m(3,!0),t._v(" "),n("h1",{staticClass:"font-14 font-weight-normal m-0"},[t._v("\n                                "+t._s(e.last_name)+" "+t._s(e.first_name)+"\n                            ")])])]),t._v(" "),t._l(e.attendance,(function(r,o){return n("td",{key:o,staticClass:"mark-controls"},[r.next_day||t.current_semester!=t.semester?t._e():n("div",[t._v("\n                            "+t._s(r.nex_day)+"\n                            "),!r.attendance&&r.current_day||t.attandanceList[i][o].edit||r.attendance&&!r.attendance.attendance_status_id&&r.current_day?n("div",{staticClass:"d-flex align-items-center justify-content-center "},[n("el-select",{staticClass:"foniy-select font-weight-bold mr-1",class:"color-"+t.colors[t.attandanceList[i][o].attendance_status],staticStyle:{width:"60px"},attrs:{placeholder:""},on:{change:function(e){return t.changeMark(i,o)}},model:{value:t.attandanceList[i][o].attendance_status_id,callback:function(e){t.$set(t.attandanceList[i][o],"attendance_status_id",e)},expression:"attandanceList[i][j].attendance_status_id"}},t._l(t.attandanceType,(function(e,r){return n("el-option",{key:r,attrs:{value:e.id,label:""+t.getFirstLetter(e.name)}},[n("p",{staticClass:"font-14 m-0 font-weight-bold ",class:"color-"+t.colors[e.name]},[t._v(" "+t._s(t.getFirstLetter(e.name)))])])})),1),t._v(" "),n("span",{staticClass:"mr-1 font-16 font-weight-bold cursor-pointer",on:{click:function(n){return t.markStudent(i,o,e.id)}}},[n("i",{staticClass:"mdi mdi-check-bold"})]),t._v(" "),t._m(4,!0)],1):t._e(),t._v(" "),r.attendance&&r.attendance.attendance_status_id&&!t.attandanceList[i][o].edit||!r.current_day&&!t.attandanceList[i][o].edit&&!t.attandanceList[i][o].id?n("div",{staticClass:"d-flex align-items-center justify-content-center"},[r.attendance?n("p",{staticClass:"font-14 text-center m-0 font-weight-bold",class:"color-"+t.colors[r.attendance.attendance_status]},[t._v(" "+t._s(t.getFirstLetter(r.attendance.attendance_status))+" ")]):t._e(),t._v(" "),n("span",{staticClass:"ml-2 font-16 cursor-pointer font-weight-bold mark-edit",on:{click:function(e){return t.markEdit(i,o)}}},[n("i",{staticClass:"mdi mdi-border-color"})])]):t._e()])])})),t._v(" "),n("td",{staticClass:"bg-gray"},[n("p",{staticClass:"font-14 text-center m-0 font-weight-normal"},[t._v("\n                            "+t._s(e.total_p)+"\n                        ")])]),t._v(" "),n("td",{staticClass:"bg-gray"},[n("p",{staticClass:"font-14 text-center m-0 font-weight-normal"},[t._v(" "+t._s(e.total_a)+" ")])]),t._v(" "),n("td",{staticClass:"bg-gray"},[n("p",{staticClass:"font-14 text-center m-0 font-weight-normal"},[t._v(" "+t._s(e.total_l)+" ")])]),t._v(" "),n("td",{staticClass:"bg-gray"},[n("p",{staticClass:"font-14 text-center m-0 font-weight-normal"},[t._v(t._s(e.total_e)+" ")])])],2)}))],2):t._e()]),t._v(" "),t.loading?t._e():n("div",{staticClass:"d-flex flex-wrap-wrap"},[t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8)]),t._v(" "),t.loading?n("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[n("i",{staticClass:"el-icon-loading"}),t._v(" "),n("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):t._e()])])}),r,!1,null,"1b359366",null);e.default=component.exports},1110:function(t,e,n){"use strict";n.r(e);n(7),n(9),n(10);var r=n(0),o=(n(22),n(2),n(6),n(4),n(8),n(35));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={computed:c(c({},Object(o.b)("dictionary",["dic_academic_year"])),{},{role:function(){return this.$store.state.auth.user?this.$store.state.auth.user.role.name:""},semester_list:function(){var t=this,data=[];return this.dic_academic_year.forEach((function(element){element.current_academicyear&&(element.semesters.forEach((function(e){e.current_semester&&(t.form.semester=e.id)})),data=element.semesters)})),data},cur_academic_year:function(){var data="";return this.dic_academic_year.forEach((function(element){element.current_academicyear&&(data=element.id)})),data},cur_semester:function(){var t=this,data="";return this.dic_academic_year.forEach((function(element){element.current_academicyear&&(t.filter.academic_year=element.id,element.semesters.forEach((function(t){t.current_semester&&(data=t.id)})))})),data}}),data:function(){return{show:!1,form:{name:"",lesson:this.$route.params.id},activeTopic:null,topics:[],topic:{user:{},materials:[],assignments:[]},loading:!1}},methods:{save:function(){var t=this;this.$refs.form.validate().then((function(e){if(e){t.loading=!0;var n=t.form.id,r=n?n+"/":"";t.$axios({url:"/topic/"+r,method:n?"PATCH":"POST",data:t.form}).then((function(){n?t.$swal.fire({icon:"success",title:"Topic is edited success.",confirmButtonText:"Ok",timer:1500}):t.$swal.fire({icon:"success",title:"Topic is created success.",confirmButtonText:"Ok",timer:1500}),t.$emit("filtering"),t.show=!1,t.form.name="",t.form.id="",t._Get()})).catch((function(e){var n=e.response.data,r=n[Object.keys(n)[0]];t.$notify.error({message:r||"Произошла ошибка"})})).finally((function(){t.loading=!1}))}}))},edit:function(t){this.form.id=t.id,this.form.name=t.name,this.form.lesson=t.lesson,this.show=!0},_Get:function(){var t=this;this.loading=!0,this.$axios.get("/topic/?lesson=".concat(this.$route.params.id)).then((function(e){t.topics=e.data.results})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},deleteTopic:function(t){var e=this;this.$confirm("Are you sure to delete this Topic?","Warning!",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){0==t.materials.length&&0==t.assignments.length&&e.$axios.delete("/topic/".concat(t.id)).then((function(){e.$swal.fire({icon:"success",title:"Topic is deleted success.",confirmButtonText:"Ok",timer:1500}),e._Get()})).catch((function(){e.$swal.fire({icon:"error",title:"Topic is not deleted!",text:"Server is not working! Please try again leter.",confirmButtonText:"Ok",timer:1500})}))})).catch((function(){}))},filterTopic:function(t){this.activeTopic=t,null!=t&&(this.topic=this.topics[t])}},mounted:function(){this._Get()}},m=(n(1021),n(16)),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[r("header",{staticClass:"mb-4"},[r("h4",[t._v("Classwork")]),t._v(" "),r("div",{staticClass:"l-stream"},[r("div",{staticClass:"item left"},[r("p",{staticClass:"cursor-pointer",class:{"font-weight-bold":null==t.activeTopic},on:{click:function(e){return t.filterTopic(null)}}},[t._v("All Topics")]),t._v(" "),t.topics?r("div",{staticClass:"topic-list"},t._l(t.topics,(function(e,n){return r("div",{key:n,on:{click:function(e){return t.filterTopic(n)}}},[r("p",{staticClass:"cursor-pointer",class:{"font-weight-bold":t.activeTopic==n}},[t._v(t._s(e.name))])])})),0):t._e()]),t._v(" "),r("div",{staticClass:"item right d-flex flex-column"},[["teacher"].includes(t.role)?r("b-button",{staticClass:"mb-3 ml-auto",attrs:{size:"md",variant:"success"},on:{click:function(e){t.show=!0}}},[r("i",{staticClass:"mdi mdi-plus-circle"}),t._v(" Create\n                ")]):t._e(),t._v(" "),null!=t.activeTopic?r("div",{staticClass:"topic-list"},[r("div",{staticClass:"t-item"},[r("header",[r("h1",[t._v(" "+t._s(t.topic.name))]),t._v(" "),r("div",{staticClass:"d-flex align-items-center"},[r("p",{staticClass:"m-0 mr-2 light-p"},[t._v(" "+t._s(t.topic.user.last_name)+" "+t._s(t.topic.user.first_name)+" ")]),t._v(" "),["teacher"].includes(t.role)?r("b-dropdown",{staticClass:"float-right",attrs:{"toggle-class":"card-drop p-0 ",variant:"black",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("i",{staticClass:"mdi mdi-dots-vertical"})]},proxy:!0}],null,!1,513572491)},[t._v(" "),r("b-dropdown-item",{attrs:{to:"/lessons/in-group/assignment/add?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+t.topic.id+"&topic_name="+t.topic.name}},[r("p",{staticClass:"m-0",staticStyle:{color:"#2B2D33"}},[r("i",{staticClass:"mdi mdi-clipboard-text-outline mr-2"}),t._v("Add assignment")])]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/lessons/in-group/material/add?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+t.topic.id+"&topic_name="+t.topic.name}},[r("p",{staticClass:"m-0",staticStyle:{color:"#2B2D33"}},[r("i",{staticClass:"mdi mdi-book-outline mr-2"}),t._v("Add material")])]),t._v(" "),r("b-dropdown-item-button",{on:{click:function(e){return t.edit(t.topic)}}},[r("span",{staticStyle:{color:"#2B2D33"},on:{click:function(e){return t.edit(t.topic)}}},[r("i",{staticClass:" mdi mdi-pencil mr-2"}),t._v("Edit topic")])]),t._v(" "),r("b-dropdown-item-button",{attrs:{disabled:!(!t.topic.materials.length&&!t.topic.assignments.length)},on:{click:function(e){return t.deleteTopic(t.topic)}}},[r("span",{class:{"opacity-6":t.topic.materials.length||t.topic.assignments.length},staticStyle:{color:"#2B2D33"}},[r("i",{staticClass:" mdi mdi-delete mr-2"}),t._v("Delete topic\n                                        ")])])],1):t._e()],1)]),t._v(" "),t.topic.materials.length||t.topic.assignments.length?r("div",{staticClass:"f-wull"},[t.topic.assignments?r("ul",{staticClass:"book-list"},t._l(t.topic.assignments,(function(e,o){return r("li",{key:o,staticClass:"book-list-bottom"},[r("div",{staticClass:"assignment-item"},[r("nuxt-link",{attrs:{to:"/lessons/in-group/assignment/"+e.id+"?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+t.topic.id+"&topic_name="+t.topic.name}},[r("div",{staticClass:"d-flex justify-between align-items-center w-full"},[r("section",[r("img",{attrs:{src:n(978)}})]),t._v(" "),r("h1",[t._v(t._s(e.title))]),t._v(" "),r("span",[t._v("Posted "+t._s(e.created_at)+" ")])]),t._v(" "),r("div",{staticClass:"assignment-items"},[(e.student_count||0==e.student_count)&&["teacher"].includes(t.role)?r("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[r("i",[t._v("Assigned: "),r("strong",[t._v(" "+t._s(e.student_count)+" ")])])]):t._e(),t._v(" "),(e.to_check||0==e.to_check)&&["teacher"].includes(t.role)?r("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[r("i",[t._v("To сheck: "),r("strong",[t._v(t._s(e.to_check)+" ")])])]):t._e(),t._v(" "),(e.graded||0==e.graded)&&["teacher"].includes(t.role)?r("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[r("i",[t._v("Graded: "),r("strong",[t._v(t._s(e.graded)+" ")])])]):t._e(),t._v(" "),e.due_date_time||0==e.due_date_time?r("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[r("i",[t._v("Due date: "),r("strong",[t._v(t._s(e.due_date_time)+" ")])])]):t._e()])])],1)])})),0):t._e(),t._v(" "),t.topic.materials?r("ul",{staticClass:"book-list"},t._l(t.topic.materials,(function(e,i){return r("li",{key:i},[r("div",[r("nuxt-link",{attrs:{to:"/lessons/in-group/material/"+e.id+"?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+t.topic.id+"&topic_name="+t.topic.name}},[r("div",{staticClass:"d-flex justify-between align-items-center w-full"},[r("section",[r("img",{attrs:{src:n(960)}})]),t._v(" "),r("h1",[t._v(" "+t._s(e.title)+" ")]),t._v(" "),r("span",[t._v("Posted "+t._s(e.created_at)+" ")])])])],1)])})),0):t._e()]):r("div",[r("p",{staticClass:"m-0 mt-2 "},[t._v("Students will see this topic once work is added to it")])])])]):r("div",{staticClass:"topic-list"},t._l(t.topics,(function(e,o){return r("div",{key:o,staticClass:"t-item"},[r("header",[r("h1",[t._v(" "+t._s(e.name))]),t._v(" "),r("div",{staticClass:"d-flex align-items-center"},[r("p",{staticClass:"m-0 mr-2 light-p"},[t._v(" "+t._s(e.user.last_name)+" "+t._s(e.user.first_name)+" ")]),t._v(" "),["teacher"].includes(t.role)?r("b-dropdown",{staticClass:"float-right",attrs:{"toggle-class":"card-drop p-0 ",variant:"black",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("i",{staticClass:"mdi mdi-dots-vertical"})]},proxy:!0}],null,!0)},[t._v(" "),r("b-dropdown-item",{attrs:{to:"/lessons/in-group/assignment/add?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+e.id+"&topic_name="+e.name}},[r("p",{staticClass:"m-0",staticStyle:{color:"#2B2D33"}},[r("i",{staticClass:"mdi mdi-clipboard-text-outline mr-2"}),t._v("Add assignment")])]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/lessons/in-group/material/add?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+e.id+"&topic_name="+e.name}},[r("p",{staticClass:"m-0",staticStyle:{color:"#2B2D33"}},[r("i",{staticClass:"mdi mdi-book-outline mr-2"}),t._v("Add material")])]),t._v(" "),r("b-dropdown-item-button",{on:{click:function(n){return t.edit(e)}}},[r("span",{staticStyle:{color:"#2B2D33"},on:{click:function(n){return t.edit(e)}}},[r("i",{staticClass:" mdi mdi-pencil mr-2"}),t._v("Edit topic")])]),t._v(" "),r("b-dropdown-item-button",{attrs:{disabled:!(!e.materials.length&&!e.assignments.length)},on:{click:function(n){return t.deleteTopic(e)}}},[r("span",{class:{"opacity-6":e.materials.length||e.assignments.length},staticStyle:{color:"#2B2D33"}},[r("i",{staticClass:" mdi mdi-delete mr-2"}),t._v("Delete topic\n                                        ")])])],1):t._e()],1)]),t._v(" "),e.materials.length||e.assignments.length?r("div",{staticClass:"f-wull"},[r("ul",{staticClass:"book-list"},t._l(e.assignments,(function(o,i){return r("li",{key:i,staticClass:"book-list-bottom"},[r("div",{staticClass:"assignment-item"},[r("nuxt-link",{attrs:{to:"/lessons/in-group/assignment/"+o.id+"?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+e.id+"&topic_name="+e.name}},[r("div",{staticClass:"d-flex justify-between align-items-center w-full"},[r("section",[r("img",{attrs:{src:n(978)}})]),t._v(" "),r("h1",[t._v(t._s(o.title))]),t._v(" "),r("span",[t._v("Posted "+t._s(o.created_at)+" ")])]),t._v(" "),r("div",{staticClass:"assignment-items"},[(o.student_count||0==o.student_count)&&["teacher"].includes(t.role)?r("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[r("i",[t._v("Assigned: "),r("strong",[t._v(" "+t._s(o.student_count)+" ")])])]):t._e(),t._v(" "),(o.to_check||0==o.to_check)&&["teacher"].includes(t.role)?r("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[r("i",[t._v("To сheck: "),r("strong",[t._v(t._s(o.to_check)+" ")])])]):t._e(),t._v(" "),(o.graded||0==o.graded)&&["teacher"].includes(t.role)?r("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[r("i",[t._v("Graded: "),r("strong",[t._v(t._s(o.graded)+" ")])])]):t._e(),t._v(" "),o.due_date_time||0==o.due_date_time?r("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[r("i",[t._v("Due date: "),r("strong",{class:{"color-red":o.deadline}},[t._v(t._s(o.due_date_time)+" ")])])]):t._e()])])],1)])})),0),t._v(" "),r("ul",{staticClass:"book-list"},t._l(e.materials,(function(o,l){return r("li",{key:l},[r("div",[r("nuxt-link",{attrs:{to:"/lessons/in-group/material/"+o.id+"?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+e.id+"&topic_name="+e.name}},[r("div",{staticClass:"d-flex justify-between align-items-center w-full"},[r("section",[r("img",{attrs:{src:n(960)}})]),t._v(" "),r("h1",[t._v(" "+t._s(o.title)+" ")]),t._v(" "),r("span",[t._v("Posted "+t._s(o.created_at)+" ")])])])],1)])})),0)]):r("div",[r("p",{staticClass:"m-0 mt-2 "},[t._v("Students will see this topic once work is added to it")])])])})),0)],1)])]),t._v(" "),["teacher"].includes(t.role)?r("b-modal",{attrs:{title:"Add Topic",size:"md","title-class":"font-18","body-class":"p-4"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.cancel;return[r("b-button",{attrs:{size:"md"},on:{click:function(t){return n()}}},[t._v(" Cancel ")]),t._v(" "),r("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(e){return t.save()}}},[t._v(" Save ")])]}}],null,!1,584809072),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("ValidationObserver",{ref:"form"},[r("div",{staticClass:"mb-2"},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("p",{staticClass:"mb-1"},[t._v("Semester:* ")]),t._v(" "),r("el-select",{staticClass:"w-full foniy-select",class:{invalid:n[0]},attrs:{"collapse-tags":!0,placeholder:"Choose semester"},model:{value:t.form.semester,callback:function(e){t.$set(t.form,"semester",e)},expression:"form.semester"}},t._l(t.semester_list,(function(t,i){return r("el-option",{key:i,attrs:{value:t.id,label:i+1+"-term"}})})),1)]}}],null,!1,1975178727)})],1),t._v(" "),r("div",{staticClass:"mb-2"},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("p",{staticClass:"mb-1"},[t._v("Topic:* ")]),t._v(" "),r("b-input",{class:{invalid:n[0]},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})]}}],null,!1,1502041297)})],1)])],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},1111:function(t,e,n){"use strict";n.r(e);var r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",[n("p",{staticClass:"font-14 text-muted m-0"},[t._v("Students")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",[n("p",{staticClass:"font-14 text-muted m-0 text-center",staticStyle:{width:"100px"}},[t._v("Overall grade")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",[n("div",{staticClass:"student-name-imame"},[n("div",{staticClass:"user-table-image"},[n("i",{staticClass:"mdi mdi-account-multiple font-18"})]),t._v(" "),n("h1",{staticClass:"font-14 font-weight-normal m-0"},[t._v(" Class average")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user-table-image"},[e("img",{attrs:{src:n(843),alt:""}})])}],o=n(0),l=(n(2),n(6),n(173),n(12),n(25),n(5)),c=n.n(l),d={head:function(){return{title:"".concat(this.title," | MIS tbteam.uz")}},computed:{totalGrade:function(){var t=0,e=this.studentList.length;return this.studentList.forEach((function(element){console.log(element.total_grade),t+=element.total_grade?element.total_grade:0})),(t/(e||1)).toFixed(2)}},data:function(){var t;return t={value:"",show:!1,loading:!1,studentList:[],filter:{search:""},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dek"],colors:{A:"red",P:"green",L:"orange",E:"black"},attandanceType:[],type:""},Object(o.a)(t,"value",""),Object(o.a)(t,"semester",1),Object(o.a)(t,"current_semester",1),Object(o.a)(t,"semesterList",[]),t},mounted:function(){this._getAttandanceType(),this.__GET(),this._getsemester()},methods:{pageChanged:function(){this.__GET()},__GET:function(){var t=this;this.loading=!0,this.$axios.get("/grades/?lesson=".concat(this.$route.params.id)).then((function(e){t.studentList=e.data})).finally((function(){t.loading=!1}))},_getAttandanceType:function(){var t=this;this.$axios.get("/attendance_status/").then((function(e){t.attandanceType=e.data}))},_getMonth:function(t){var e=c()(t).format("YYYY-MM-DD");return(e=new Date(e)).getMonth()},_getDay:function(t){return t.split("-")[2]},_getsemester:function(){var t=this;this.$axios.get("/semesterlist/?lesson=".concat(this.$route.params.id)).then((function(e){t.semesterList=e.data,t.semester=e.data[0].id}))},generateRow:function(i){var t=0,e=this.studentList.length*this.studentList[0].assignment[i].assignment_points;return this.studentList.forEach((function(element){t+=element.assignment[i].points?parseInt(element.assignment[i].points):0})),(t/(e||1)).toFixed(2)},formatDate:function(t){var a=t.split(".");return a=a[2]+"-"+a[1]+"-"+a[0]},checkCurDate:function(t){var e=new Date;return(e=c()(e).format("YYYY-MM-DD"))>=c()(this.formatDate(t)).format("YYYY-MM-DD")}},middleware:"auth"},m=n(16),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("div",{staticClass:"table-responsive mb-0"},[n("header",{staticClass:"d-flex justify-content-between mb-3 align-items-center"},[n("h4",[t._v("Grades")]),t._v(" "),n("div",[n("el-select",{staticClass:"foniy-select w-full",attrs:{placeholder:"Select"},model:{value:t.semester,callback:function(e){t.semester=e},expression:"semester"}},t._l(t.semesterList,(function(e,i){return n("el-option",{key:i,attrs:{label:i+1+"-term",value:e.id,disabled:!t.checkCurDate(e.start_semester)}})})),1)],1)]),t._v(" "),n("div",{staticClass:"foniy-table mb-3"},[t.studentList[0]&&t.studentList[0].assignment?n("table",{staticClass:"border-all "},[n("tr",{staticClass:"vertical-bottom"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._l(t.studentList[0].assignment,(function(e,r){return n("th",{key:r},[n("p",{staticClass:"font-12 text-muted m-0 mb-1"},[t._v(t._s(t.months[t._getMonth(e.due_date_time)])+"  "+t._s(t._getDay(e.due_date_time))+" ")]),t._v(" "),n("nuxt-link",{staticClass:"font-14",attrs:{to:"/lessons/in-group/assignment/"+e.id+"?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+e.topic+"&topic_name="+e.topic_name}},[n("p",{staticClass:"m-0"},[t._v(t._s(e.title))])]),t._v(" "),n("p",{staticClass:"font-12 text-muted m-0 mt-1"},[t._v("out of  "+t._s(e.assignment_points)+" ")])],1)}))],2),t._v(" "),n("tr",{staticClass:"bg-gray"},[t._m(2),t._v(" "),n("th",[n("p",{staticClass:"font-14 text-center   m-0"},[t._v(t._s(t.totalGrade)+"%")])]),t._v(" "),t._l(t.studentList[0].assignment,(function(e,r){return n("th",{key:r},[n("p",{staticClass:"font-14 text-muted text-center m-0 font-weight-normal"},[t._v("   "+t._s(t.generateRow(r))+"% ")])])}))],2),t._v(" "),t._l(t.studentList,(function(e,i){return n("tr",{key:i},[n("td",[n("div",{staticClass:"student-name-imame"},[t._m(3,!0),t._v(" "),n("h1",{staticClass:"font-14 font-weight-normal m-0"},[t._v(t._s(e.last_name)+" "+t._s(e.first_name))])])]),t._v(" "),n("td",[n("p",{staticClass:"font-14 text-center m-0 font-weight-bold"},[t._v(" "+t._s(e.total_grade?e.total_grade.toFixed(2):0)+"%")])]),t._v(" "),t._l(e.assignment,(function(e,r){return n("td",{key:r},[e.students_status&&null==e.points&&!e.assignment_deadline?n("div",[n("p",{staticClass:"font-14 m-0 color-green opacity-6"},[t._v(" __/"+t._s(e.assignment_points?e.assignment_points:0)+" ")])]):t._e(),t._v(" "),e.students_status?t._e():n("div",[n("p",{staticClass:"font-14 m-0 "},[t._v("  Not assigned ")])]),t._v(" "),e.students_status&&e.points&&0==e.deadline?n("div",[n("p",{staticClass:"font-14 m-0 "},[t._v("  "+t._s(e.points)+" ")])]):t._e(),t._v(" "),e.student_status&&e.points&&1==e.deadline?n("div",[n("p",{staticClass:"font-14 m-0 color-green opacity-6"},[t._v(" "+t._s(e.points)+" ")]),t._v(" "),n("p",{staticClass:"font-12 text-muted m-0 mt-1"},[t._v("Done late")])]):t._e(),t._v(" "),e.students_status&&null!=e.deadline&&0==e.points?n("div",[n("p",{staticClass:"font-14 m-0 color-orange "},[t._v("Unchecked")])]):t._e(),t._v(" "),e.students_status&&e.assignment_deadline&&null==e.deadline?n("div",[n("p",{staticClass:"font-14 m-0 color-red"},[t._v(" Missing")])]):t._e()])}))],2)}))],2):t._e()])])])}),r,!1,null,null,null);e.default=component.exports},1112:function(t,e,n){"use strict";n.r(e);n(22),n(2),n(38);var r={computed:{role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name}},data:function(){return{first:!0,show_large:!1,loading:!1,form:{lesson:"",text:""},messages:[],socket:null,interval:null}},methods:{save:function(){var t=this;this.form.lesson=this.$route.params.id,this.form.text&&this.$axios.post("/stream/",this.form).then((function(){t.form.text="",t._Get()}))},_Get:function(){var t=this;this.first&&(this.loading=!0),this.$route.params.id&&this.$axios.get("/stream/?lesson=".concat(this.$route.params.id)).then((function(e){t.messages=e.data.results})).finally((function(){t.loading=!1,t.first=!1}))},deleteStream:function(t){var e=this;this.$axios.delete("/stream/".concat(t,"/")).then((function(){e.$swal.fire({icon:"success",title:"Stream is deleted success.",confirmButtonText:"Ok",timer:1500}),e._Get()})).catch((function(){e.$swal.fire({icon:"error",title:"Stream is not deleted!",text:"Server is not working! Please try again leter.",confirmButtonText:"Ok",timer:1500})}))}},mounted:function(){var t=this;this._Get(),this.interval=setInterval((function(){t._Get()}),7e3)},beforeDestroy:function(){clearInterval(this.interval)}},o=(n(1023),n(16)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header",{staticClass:"mb-4"},[r("h4",[t._v("Stream")]),t._v(" "),r("div",{staticClass:"l-stream"},[r("div",{staticClass:"item right"},[["teacher","student"].includes(t.role)?r("header",{staticClass:"bg-header",on:{mouseenter:function(e){t.show_large=!0},mouseleave:function(e){t.show_large=!1}}},[[r("b-textarea",{ref:"focus",staticClass:"mb-2",attrs:{placeholder:"Add a note..."},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}}),t._v(" "),r("b-button",{staticClass:"mr-1",attrs:{size:"md",variant:"success",disabled:!t.form.text},on:{click:function(e){return t.save()}}},[t._v("\n                            Save\n                        ")])]],2):t._e(),t._v(" "),t.loading?t._e():r("div",{staticClass:"stream-body"},t._l(t.messages,(function(e,i){return r("div",{key:i,staticClass:"w-full stream-item"},[r("section",[r("img",{attrs:{src:e.photo?e.photo:n(843)}})]),t._v(" "),r("div",{staticClass:"stream-content"},[r("header",{staticClass:"d-flex justify-content-between w-full"},[r("div",[r("h1",[t._v(t._s(e.user.last_name)+" "+t._s(e.user.first_name)+" ")]),t._v(" "),r("span",[t._v(" "+t._s(e.created_at)+" ")])]),t._v(" "),e.my_ms?r("el-popconfirm",{attrs:{"confirm-button-text":"OK","cancel-button-text":"No, Thanks","icon-color":"red",title:"Are you sure to delete this Stream?"},on:{confirm:function(n){return t.deleteStream(e.id)}}},[r("button",{staticClass:"button simple delete-button",attrs:{slot:"reference"},slot:"reference"},[r("i",{staticClass:"mdi mdi-delete"})])]):t._e()],1),t._v(" "),r("p",[t._v("\n                                "+t._s(e.text)+"\n                            ")])])])})),0),t._v(" "),t.loading?r("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[r("i",{staticClass:"el-icon-loading"}),t._v(" "),r("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):t._e()])])])])}),[],!1,null,"d18ce36a",null);e.default=component.exports},1113:function(t,e,n){"use strict";n.r(e);n(8),n(7),n(9),n(6),n(10);var r=n(0),o=n(11);n(61),n(22),n(47),n(2),n(4);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={props:["group_id"],computed:{role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name}},data:function(){return{loading:!1,studentList:{count:0,results:[]},currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:{search:""}}},watch:{"filter.search":function(t){""==t&&this.__GET()}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.__GET();case 2:case"end":return e.stop()}}),e)})))()},methods:{pageChanged:function(){this.__GET()},__GET:function(){var t=this;if(["teacher","branch_admin"].includes(this.role)){var e=this.group_id?this.group_id:this.$route.query.group_id;this.$nextTick((function(){t.loading=!0,t.$axios({method:"GET",params:c({group:e,page:t.currentPage},t.filter),url:"/users/student?"}).then((function(e){t.studentList=e.data})).finally((function(){t.loading=!1}))}))}}},middleware:"auth"},m=n(16),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"table-responsive mb-0"},[r("header",{staticClass:"d-flex justify-content-between mb-3"},[r("h4",[t._v("Students")]),t._v(" "),r("div",[r("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"Search...",clear:"foniy-input",clearable:"","suffix-icon":"el-icon-search"},nativeOn:{change:function(e){t.currentPage=1,t.__GET()}},model:{value:t.filter.search,callback:function(e){t.$set(t.filter,"search",e)},expression:"filter.search"}})],1)]),t._v(" "),t.loading?t._e():r("div",{staticClass:"foniy-table mb-3"},[r("table",{staticClass:"border-bottom"},[t._m(0),t._v(" "),t._l(t.studentList.results,(function(e,i){return r("tr",{key:i},[r("td",[t._v(" "+t._s(10*(t.currentPage-1)+i+1)+" ")]),t._v(" "),r("td",{staticStyle:{width:"100px"}},[r("div",{staticClass:"user-table-image"},[e.photo?r("img",{attrs:{src:e.photo,alt:""}}):r("img",{attrs:{src:n(843),alt:""}})])]),t._v(" "),r("td",[r("a",[t._v("\n                             "+t._s(t._f("fio")(e))+" \n                        ")])]),t._v(" "),r("td",[t._v(" "+t._s(e.branch)+" ")]),t._v(" "),r("td",[t._v(" "+t._s(e.group)+" ")]),t._v(" "),r("td",[t._v(" "+t._s(e.login)+" ")]),t._v(" "),r("td",[t._v(" "+t._s(e.grade)+" ")])])}))],2)]),t._v(" "),t.loading?t._e():r("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[r("ul",{staticClass:"pagination pagination-rounded mb-0"},[r("b-pagination",{attrs:{"total-rows":t.studentList.count,"per-page":t.perPage},on:{change:t.pageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),t._v(" "),t.loading?r("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[r("i",{staticClass:"el-icon-loading"}),t._v(" "),r("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):t._e()])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"bg-gray"},[n("th",{staticStyle:{width:"50px"}},[t._v("#")]),t._v(" "),n("th"),t._v(" "),n("th",[t._v("Full Name")]),t._v(" "),n("th",[t._v("Branch")]),t._v(" "),n("th",[t._v("Group")]),t._v(" "),n("th",[t._v("Login")]),t._v(" "),n("th",[t._v("Grade")])])}],!1,null,null,null);e.default=component.exports},1260:function(t,e,n){"use strict";n(1093)},1261:function(t,e,n){var r=n(52)(!1);r.push([t.i,'.group-view-header[data-v-28961357]{display:flex;align-items:center}.group-view-header h1[data-v-28961357]{font-family:"Roboto";font-style:normal;font-weight:700;font-size:18px;line-height:21px;color:#2b2d33;flex:1}.students-list-table tbody td p[data-v-28961357]{margin-bottom:4px;font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#2b2d33}.students-list-table tbody td span[data-v-28961357]{font-family:"Roboto";font-style:normal;font-weight:400;font-size:13px;line-height:16px;color:#90999d}',""]),t.exports=r},1447:function(t,e,n){"use strict";n.r(e);n(7),n(9),n(6),n(10);var r=n(11),o=n(0),l=(n(61),n(17),n(22),n(4),n(2),n(256),n(47),n(8),n(68),n(171),n(35)),c=n(1112),d=n(1110),m=n(1113),f=n(1109),_=n(1111),v=n(1290);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x={components:{Steam:c.default,Classwork:d.default,Students:m.default,Attendance:f.default,Grades:_.default,Gradebook:v.default},head:function(){return{title:"".concat(this.title," | MIS tbteam.uz")}},watch:{currentTab:function(t){var e=y(y({},this.$route.query),{},{currentTab:t});this.$router.push({path:"/lessons/in-group/".concat(this.$route.params.id),query:e})}},data:function(){return{lesson:{teacher:[]},currentGroup:{},currentTimetable:{},currentTab:0,show:!1,show2:!1,show3:!1,selectedStudents:[],selectedStudents3:[],data2:{results:[]},DIC_all_teachers:[],filter2:{},currentPage2:1,form:{},form2:{},totalRows2:0,loading:!1,data:{},current_course:null,courses:[],DIC_group:[],title:this.$route.query.lesson_name,items:[{text:"Lessons",active:!0}],studentList:{count:0,results:[]},currentPage:1,currentPage3:1,perPage:10,pageOptions:[10,25,50,100],filter:{},filter3:{},filterOn:[],sortBy:"age",sortDesc:!1,fields:[{label:"",key:"id",sortable:!1},{label:"#",key:"index",sortable:!1},{label:"",key:"avatar",sortable:!1},{label:"Full Name",key:"full_name",sortable:!0},{label:"Branch",key:"branch",sortable:!0},{label:"Login",key:"login"},{label:"Grade",key:"grade"}],fields2:[{label:"#",key:"index",sortable:!1},{label:"Name",key:"subject_name",sortable:!1},{label:"Duration ",key:"duration",sortable:!0},{label:"Main Teacher",key:"main_teacher",sortable:!0},{label:"Teacher",key:"teacher",sortable:!0},{label:"",key:"actions",sortable:!1}]}},computed:y(y({},Object(l.b)("dictionary",["dic_branch","dic_social_status","dic_grade","dic_academic_year","dic_subject"])),{},{selectedStudents3_id:function(){return this.selectedStudents3.map((function(t){return t.id}))||[]},totalRows:function(){return this.data.count},role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name},DIC_group_LOCAL:function(){var t=this;return this.DIC_group.filter((function(e){if(e.grade.id==t.form.grade)return e}))}}),created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$route.query.page&&(t.currentPage=Number(t.$route.query.page),t.$forceUpdate()),t.filter.group=t.$route.params.group_id,e.next=4,t.__GET();case 4:["branch_admin","teacher"].includes(t.role)&&(t.getGroupInfo(),t.get_all_teachers(),t.getGroups(),t.getSubjects(),t.getStudents()),t.getTimetable();case 6:case"end":return e.stop()}}),e)})))()},methods:{deleteFromGroup:function(){var t=this;this.$Swal.fire({title:"Delete this students from this group?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"Cancel!",confirmButtonClass:"btn btn-success mt-2",cancelButtonClass:"btn btn-danger ml-2 mt-2",buttonsStyling:!1}).then((function(e){if(e.value){var a=[];t.loading=!0,t.selectedStudents.filter((function(t){a.push({group:null,student:t.id})})),t.$axios.post("/student_add_group/",a).then((function(e){t.show=!1,t.selectedStudents=[],t.__GET(),t.$Swal.fire({title:"Success!",type:"success"})})).catch((function(e){var n=e.response.data,r=Object.keys(n),o="string"==typeof n[r[0]]?n[r[0]]:n[r[0]][0];t.$Swal.fire({title:"Error",text:o||"error has occurred",type:"error"})})).finally((function(){t.loading=!1}))}}))},getKeyValue:function(t,e,n){var a=null;return t&&t.filter((function(t){t.id===e&&(a=t[n])})),a},getGroupInfo:function(){var t=this,e=this.$route.query.group_id;this.$axios.get("/group/".concat(e)).then((function(e){t.currentGroup=e.data,t.title=t.currentGroup.name}))},setForm2:function(t){this.form2=y({},t),this.form2.main_teacher=this.form2.main_teacher.id,this.form2.teacher=this.form2.teacher.id},getSubjects:function(){var t=this,e=this.$route.params.id;this.$axios.get("/lesson/".concat(e,"/")).then((function(e){t.lesson=e.data}))},addSubject:function(){var t=this;this.$refs.form2.validate().then((function(e){if(e){t.form2.group=t.$route.params.id;var n=t.form2.id;t.$axios({method:n?"PATCH":"POST",url:n?"/lesson/".concat(n,"/"):"/lesson/",data:t.form2}).then((function(e){t.show2=!1,t.getSubjects(),t.$Swal.fire({title:"Success!",type:"success"})})).catch((function(e){var n=e.response.data,r=Object.keys(n),o="string"==typeof n[r[0]]?n[r[0]]:n[r[0]][0];t.$Swal.fire({title:"Error",text:o||"error has occurred",type:"error"})})).finally((function(){t.loading=!1}))}}))},clickedStudent:function(t){var e=this.selectedStudents3_id;if(e.includes(t.id)){var n=e.indexOf(t.id);this.selectedStudents3.splice(n,1)}else this.selectedStudents3.push(t)},pageChanged3:function(t){this.currentPage3=t,this.getStudents(t)},getStudents:function(t){var e=this;t||(this.currentPage3=1),this.$nextTick((function(){e.loading=!0,e.$axios({method:"GET",params:y(y({},e.filter3),{},{page:e.currentPage3}),url:"/users/student"}).then((function(t){e.studentList=t.data})).finally((function(){e.loading=!1}))}))},getTimetable:function(){var t=this;this.$axios.get("/time_table/").then((function(e){var a=e.data[0]||{};t.currentTimetable=a}))},returnRoleId:function(t){var a=null;return this.dic_role.filter((function(e){e.name===t&&(a=e.id)})),a},get_all_teachers:function(){var t=this;this.loading=!0,this.$axios({method:"GET",url:"/teachers/"}).then((function(e){t.DIC_all_teachers=e.data})).finally((function(){t.loading=!1}))},linkStudents:function(){var t=this;this.$refs.form1.validate().then((function(e){if(e){var a=[];t.loading=!0,t.selectedStudents.filter((function(e){a.push({group:t.form.group,student:e.id})})),t.$axios.post("/student_add_group/",a).then((function(e){t.show=!1,t.selectedStudents=[],t.__GET(),t.$Swal.fire({title:"Success!",type:"success"})})).catch((function(e){var n=e.response.data,r=Object.keys(n),o="string"==typeof n[r[0]]?n[r[0]]:n[r[0]][0];t.$Swal.fire({title:"Error",text:o||"error has occurred",type:"error"})})).finally((function(){t.loading=!1}))}}))},linkStudents3:function(){var t=this;this.$refs.form3.validate().then((function(e){if(e){var n=t.$route.params.id,a=[];t.loading=!0,t.selectedStudents3_id.filter((function(t){a.push({group:n,student:t})})),t.$axios.post("/student_add_group/",a).then((function(e){t.show3=!1,t.selectedStudents3=[],t.__GET(),t.$Swal.fire({title:"Success!",type:"success"})})).catch((function(e){var n=e.response.data,r=Object.keys(n),o="string"==typeof n[r[0]]?n[r[0]]:n[r[0]][0];t.$Swal.fire({title:"Error",text:o||"error has occurred",type:"error"})})).finally((function(){t.loading=!1}))}}))},fileChanged:function(t){console.log(t)},clearForm:function(){console.log(1)},pageChanged2:function(t){this.__GET()},pageChanged:function(t){this.__GET()},getGroups:function(){var t=this;this.$axios.get("/group/?no_page=1").then((function(e){t.DIC_group=e.data}))},rowClass:function(t,e){return"tr-vertical-align-middle"},__GET:function(){var t=this;this.$nextTick((function(){t.loading=!0,t.$axios({method:"GET",params:y(y({},t.filter),{},{page:t.currentPage}),url:"/users/student"}).then((function(e){t.data=e.data})).finally((function(){t.loading=!1}))}))},onFiltered:function(t){this.currentPage=1},rmItem:function(t){var e=this;this.$Swal.fire({title:"Are you sure you want to remove this student?",type:"warning",showCancelButton:!0,confirmButtonText:"Delete!",cancelButtonText:"Cancel!",confirmButtonClass:"btn btn-danger mt-2",cancelButtonClass:"btn btn-primary ml-2 mt-2",buttonsStyling:!1}).then((function(n){n.value&&(e.loading=!0,e.$axios.delete("/users/student/".concat(t,"/")).then((function(t){e.__GET(),e.$Swal.fire({title:"Deleted!",type:"info"})})).catch((function(t){var n=t.response.data,r=Object.keys(n),o="string"==typeof n[r[0]]?n[r[0]]:n[r[0]][0];e.$Swal.fire({title:"Error",text:o||"error has occurred",type:"error"})})).finally((function(){e.loading=!1})))}))}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$route.query.currentTab;case 2:if(!e.sent){e.next=6;break}e.t0=parseInt(t.$route.query.currentTab),e.next=7;break;case 6:e.t0=0;case 7:t.currentTab=e.t0;case 8:case"end":return e.stop()}}),e)})))()},middleware:"auth"},C=(n(1260),n(16)),component=Object(C.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),"student"!=t.role?n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("header",{staticClass:"group-view-header mb-4"},[n("h1",[t._v(t._s(t.lesson.group_name)+" Group ("+t._s(t.lesson.branch)+")")]),t._v(" "),n("b-dropdown",{staticClass:"mr-2",attrs:{variant:"warning"},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Status: NEW ")]},proxy:!0}],null,!1,1061288189)},[t._v(" "),n("b-dropdown-item",[t._v("First Action")]),t._v(" "),n("b-dropdown-item",[t._v("Second Action")]),t._v(" "),n("b-dropdown-item",[t._v("Third Action")]),t._v(" "),n("b-dropdown-divider"),t._v(" "),n("b-dropdown-item",{attrs:{active:""}},[t._v("Active action")]),t._v(" "),n("b-dropdown-item",{attrs:{disabled:!0}},[t._v("Disabled action")])],1),t._v(" "),n("b-button",{staticClass:"mr-2",attrs:{variant:"light"}},[n("i",{staticClass:"mdi mdi-information mr-1"}),t._v(" Group (Class) history\n                ")])],1),t._v(" "),n("div",{staticClass:"header-content"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"item"},[n("p",[t._v("Main Teacher:")]),t._v(" "),n("nuxt-link",{attrs:{to:"#"}},[t._v(" "+t._s(t._f("fio")(t.lesson.main_teacher))+" ")])],1)]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"item"},[n("p",[t._v("Teacher:")]),t._v(" "),t.lesson.teacher.length?t._l(t.lesson.teacher,(function(e){return n("a",{key:e.id,attrs:{href:"#"}},[t._v("\n                                    "+t._s(t._f("fio")(e))+"\n                                ")])})):n("a",[t._v("Not assigned")])],2)])])])])]):t._e(),t._v(" "),n("b-card",[n("b-tabs",{staticClass:"navtab-bg",attrs:{pills:"","no-card":""},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[n("b-tab",{attrs:{title:"Stream"}},[n("Steam")],1),t._v(" "),n("b-tab",{attrs:{title:"Classwork"}},[n("Classwork")],1),t._v(" "),["teacher","branch_admin"].includes(t.role)?n("b-tab",{attrs:{title:"Students"}},[n("Students",{attrs:{group_id:t.lesson.group}})],1):t._e(),t._v(" "),["teacher","branch_admin"].includes(t.role)?n("b-tab",{attrs:{title:"Attandance"}},[n("Attendance")],1):t._e(),t._v(" "),["teacher","branch_admin"].includes(t.role)?n("b-tab",{attrs:{title:"Grades"}},[n("Grades")],1):t._e(),t._v(" "),["teacher","branch_admin"].includes(t.role)?n("b-tab",{attrs:{title:"Gradebook"}},[n("Gradebook")],1):t._e()],1)],1),t._v(" "),n("b-modal",{attrs:{title:"Move to another class",size:"lg","title-class":"font-18","body-class":"p-4"},on:{hide:function(e){return t.clearForm()}},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.cancel;return[n("b-button",{attrs:{size:"md"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),t._v(" "),n("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(e){return t.linkStudents()}}},[t._v("\n                Move\n            ")])]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("ValidationObserver",{ref:"form1"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},t._l(t.selectedStudents,(function(e){return n("b-button",{key:e.id,staticClass:"mb-2 d-flex align-items-center mr-1",attrs:{variant:"light",pill:""}},[t._v("\n                        "+t._s(t._f("fio")(e))+"\n                        "),n("svg",{staticClass:"ml-2",attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){t.selectedStudents=[]}}},[n("path",{attrs:{d:"M11.8337 1.34102L10.6587 0.166016L6.00033 4.82435L1.34199 0.166016L0.166992 1.34102L4.82533 5.99935L0.166992 10.6577L1.34199 11.8327L6.00033 7.17435L10.6587 11.8327L11.8337 10.6577L7.17533 5.99935L11.8337 1.34102Z",fill:"#404247"}})])])})),1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"item mb-2"},[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("p",{staticClass:"mb-1"},[t._v("Grade: *")]),t._v(" "),n("b-select",{class:{invalid:r[0]},on:{change:function(e){t.form.group=null}},model:{value:t.form.grade,callback:function(e){t.$set(t.form,"grade",e)},expression:"form.grade"}},t._l(t.dic_grade,(function(t){return n("option",{key:t.id,attrs:{label:t.name},domProps:{value:t.id}})})),0)]}}])})],1)]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"item mb-2"},[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("p",{staticClass:"mb-1"},[t._v("Group: *")]),t._v(" "),n("b-select",{class:{invalid:r[0]},model:{value:t.form.group,callback:function(e){t.$set(t.form,"group",e)},expression:"form.group"}},t._l(t.DIC_group_LOCAL,(function(t){return n("option",{key:t.id,attrs:{label:t.name+" ("+t.academic_year.name+") - "+t.branch.short_name+" "},domProps:{value:t.id}})})),0)]}}])})],1)])]),t._v(" "),n("div",{staticClass:"item mb-2"},[n("p",{staticClass:"mb-1"},[t._v("Description:")]),t._v(" "),n("b-textarea",{model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("div",{staticClass:"item mb-2"},[n("p",{staticClass:"mb-1"},[t._v("File (not required):")]),t._v(" "),n("input",{attrs:{type:"file",placeholder:"Fayl qo’shish"},on:{change:t.fileChanged}})])])],1),t._v(" "),n("b-modal",{attrs:{title:(t.form2.id?"Update":"Add")+" Subject",size:"lg","title-class":"font-18","body-class":"p-4"},on:{hide:function(e){return t.clearForm()}},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.cancel;return[n("b-button",{attrs:{size:"md"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),t._v(" "),n("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(e){return t.addSubject()}}},[t._v("\n                "+t._s(t.form2.id?"Update":"Add")+" Subject\n            ")])]}}]),model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}},[n("ValidationObserver",{ref:"form2"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"item mb-2"},[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("p",{staticClass:"mb-1"},[t._v("Subject: *")]),t._v(" "),n("b-select",{class:{invalid:r[0]},model:{value:t.form2.subject,callback:function(e){t.$set(t.form2,"subject",e)},expression:"form2.subject"}},t._l(t.dic_subject,(function(t){return n("option",{key:t.id,attrs:{label:t.name},domProps:{value:t.id}})})),0)]}}])})],1)]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"item mb-2"},[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("p",{staticClass:"mb-1"},[t._v("Main Teacher: *")]),t._v(" "),n("b-select",{class:{invalid:r[0]},model:{value:t.form2.main_teacher,callback:function(e){t.$set(t.form2,"main_teacher",e)},expression:"form2.main_teacher"}},t._l(t.DIC_all_teachers,(function(e){return n("option",{key:e.id,attrs:{label:t._f("fio")(e)},domProps:{value:e.id}})})),0)]}}])})],1),t._v(" "),n("div",{staticClass:"item mb-2"},[n("h4",{staticClass:"mb-1"},[t._v("Duration")]),t._v(" "),n("b-checkbox",{model:{value:t.form2.duration,callback:function(e){t.$set(t.form2,"duration",e)},expression:"form2.duration"}},[t._v("During the academic year")])],1),t._v(" "),n("div",{staticClass:"item mb-2"},[n("h4",{staticClass:"mb-1"},[t._v("Semesters")]),t._v(" "),n("b-checkbox",{model:{value:t.form2.semester1,callback:function(e){t.$set(t.form2,"semester1",e)},expression:"form2.semester1"}},[t._v("1st semester")]),t._v(" "),n("b-checkbox",{model:{value:t.form2.semester2,callback:function(e){t.$set(t.form2,"semester2",e)},expression:"form2.semester2"}},[t._v("2st semester")])],1)]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"item mb-2"},[n("p",{staticClass:"mb-1"},[t._v("Teacher: *")]),t._v(" "),n("b-select",{model:{value:t.form2.teacher,callback:function(e){t.$set(t.form2,"teacher",e)},expression:"form2.teacher"}},t._l(t.DIC_all_teachers,(function(e){return n("option",{key:e.id,attrs:{label:t._f("fio")(e)},domProps:{value:e.id}})})),0)],1)])])])],1),t._v(" "),n("b-modal",{attrs:{title:"Add student to Class (Group)",size:"xl","title-class":"font-18","body-class":"p-4"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.cancel;return[n("b-button",{attrs:{size:"md"},on:{click:function(t){return r()}}},[t._v(" Cancel ")]),t._v(" "),n("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(e){return t.linkStudents3()}}},[t._v("\n                Save\n            ")])]}}]),model:{value:t.show3,callback:function(e){t.show3=e},expression:"show3"}},[n("ValidationObserver",{ref:"form3"},[n("header",{staticClass:"d-flex"},[n("div",{staticClass:"item flex-1"},[n("p",[t._v("Show")]),t._v(" "),n("b-select",{on:{change:function(e){return t.getStudents()}},model:{value:t.filter3.student_group,callback:function(e){t.$set(t.filter3,"student_group",e)},expression:"filter3.student_group"}},[n("option",{attrs:{value:"all_students"}},[t._v("All students")]),t._v(" "),n("option",{attrs:{value:"not_added_to_the_group"}},[t._v("\n                            Not Added to the group\n                        ")])])],1),t._v(" "),n("div",{staticClass:"item flex-1 mx-2"},[n("p",[t._v("Branch")]),t._v(" "),n("b-select",{on:{change:function(e){return t.getStudents()}},model:{value:t.filter3.branch,callback:function(e){t.$set(t.filter3,"branch",e)},expression:"filter3.branch"}},t._l(t.dic_branch,(function(e){return n("option",{key:e.id,attrs:{label:e.short_name},domProps:{value:e.id}},[t._v("\n                            "+t._s(e.short_name)+"\n                        ")])})),0)],1),t._v(" "),n("div",{staticClass:"item flex-1 mr-2"},[n("p",[t._v("Grade")]),t._v(" "),n("b-select",{attrs:{"aria-placeholder":"Grade"},on:{change:function(e){return t.getStudents()}},model:{value:t.filter3.grade,callback:function(e){t.$set(t.filter3,"grade",e)},expression:"filter3.grade"}},t._l(t.dic_grade,(function(e){return n("option",{key:e.id,attrs:{label:e.name},domProps:{value:e.id}},[t._v("\n                            "+t._s(e.name)+"\n                        ")])})),0)],1),t._v(" "),n("div",{staticClass:"item flex-1"},[n("p",[t._v("Year of Birth (Age)")]),t._v(" "),n("b-input",{directives:[{name:"mask",rawName:"v-mask",value:"##.##.####",expression:"'##.##.####'"}],attrs:{placeholder:"Year of Birth (Age)"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getStudents()}},model:{value:t.filter3.date_of_birth,callback:function(e){t.$set(t.filter3,"date_of_birth",e)},expression:"filter3.date_of_birth"}})],1),t._v(" "),n("div",{staticClass:"item d-flex"},[n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mt-auto btn btn-clear",attrs:{title:"Clear filter"},on:{click:function(e){t.filter3={},t.getStudents()}}},[n("i",{staticClass:"mdi mdi-broom text-lg-center"})])])]),t._v(" "),n("header",{staticClass:"d-flex my-3 justify-content-space-between align-items-center"},[n("div",{staticClass:"item d-flex align-items-center"},[t._v("\n                    Show:\n                    "),n("b-select",{staticClass:"ml-2",on:{change:function(e){return t.getStudents()}},model:{value:t.filter3.limit,callback:function(e){t.$set(t.filter3,"limit",e)},expression:"filter3.limit"}},[n("option",{attrs:{selected:""}},[t._v("10")]),t._v(" "),n("option",[t._v("20")]),t._v(" "),n("option",[t._v("30")]),t._v(" "),n("option",[t._v("50")])])],1),t._v(" "),n("div",{staticClass:"item d-flex ml-auto align-items-center"},[t._v("\n                    Search:\n                    "),n("b-input",{staticClass:"ml-2",attrs:{placeholder:"Search"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getStudents()}},model:{value:t.filter3.search,callback:function(e){t.$set(t.filter3,"search",e)},expression:"filter3.search"}})],1)]),t._v(" "),n("table",{staticClass:"table students-list-table b-table"},[n("thead",[n("tr",[n("th",[t._v("Name")]),t._v(" "),n("th",[t._v("Grade/Language/Branch")]),t._v(" "),n("th",[t._v("Group")])])]),t._v(" "),n("tbody",t._l(t.studentList.results,(function(e){return n("tr",{key:e.id,class:{"table-warning":t.selectedStudents3_id.includes(e.id)},on:{click:function(n){return t.clickedStudent(e)}}},[n("td",[n("p",[t._v(t._s(t._f("fio")(e)))]),t._v(" "),n("span",[t._v(t._s(e.date_of_birth))])]),t._v(" "),n("td",[n("p",[t._v(t._s(e.grade)+" class")]),t._v(" "),n("span",[t._v("English ("+t._s(e.branch)+")")])]),t._v(" "),n("td",[e.group?n("p",[t._v(t._s(e.group)+" (2021-2022)")]):n("span",[t._v("Not added to group")])])])})),0)]),t._v(" "),n("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[n("ul",{staticClass:"pagination pagination-rounded mb-0"},[n("b-pagination",{attrs:{"total-rows":t.studentList.count,"per-page":t.perPage},on:{change:t.pageChanged3},model:{value:t.currentPage3,callback:function(e){t.currentPage3=e},expression:"currentPage3"}})],1)])])],1)],1)}),[],!1,null,"28961357",null);e.default=component.exports;installComponents(component,{PageHeader:n(837).default})},837:function(t,e,n){"use strict";n.r(e);var r=n(35),o={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}},computed:Object(r.c)(["layout"])},l=n(16),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"page-title-box",class:{"page-title-box-alt":"vertical"!==t.layout.layoutType&&"two-column"!==t.layout.layoutType}},[n("h4",{staticClass:"page-title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"page-title-right"},[n("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},960:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiByeD0iMTgiIGZpbGw9IiNBQUFCQUQiLz4KPHBhdGggZD0iTTI0IDhDMjQuNTMwNCA4IDI1LjAzOTEgOC4yMTA3MSAyNS40MTQyIDguNTg1NzlDMjUuNzg5MyA4Ljk2MDg2IDI2IDkuNDY5NTcgMjYgMTBWMjZDMjYgMjYuNTMwNCAyNS43ODkzIDI3LjAzOTEgMjUuNDE0MiAyNy40MTQyQzI1LjAzOTEgMjcuNzg5MyAyNC41MzA0IDI4IDI0IDI4SDEyQzExLjQ2OTYgMjggMTAuOTYwOSAyNy43ODkzIDEwLjU4NTggMjcuNDE0MkMxMC4yMTA3IDI3LjAzOTEgMTAgMjYuNTMwNCAxMCAyNlYxMEMxMCA5LjQ2OTU3IDEwLjIxMDcgOC45NjA4NiAxMC41ODU4IDguNTg1NzlDMTAuOTYwOSA4LjIxMDcxIDExLjQ2OTYgOCAxMiA4SDI0Wk0yNCAxMEgxOVYxOEwxNi41IDE1Ljc1TDE0IDE4VjEwSDEyVjI2SDI0VjEwWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="},977:function(t,e,n){var content=n(1020);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("39b1bc82",content,!0,{sourceMap:!1})},978:function(t,e,n){t.exports=n.p+"img/as.bc7434b.svg"},979:function(t,e,n){var content=n(1022);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("6a851ab8",content,!0,{sourceMap:!1})},980:function(t,e,n){var content=n(1024);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("d739e5c6",content,!0,{sourceMap:!1})}}]);