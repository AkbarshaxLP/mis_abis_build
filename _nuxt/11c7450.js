(window.webpackJsonp=window.webpackJsonp||[]).push([[101,41],{1043:function(n,t,e){var content=e(1150);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,e(53).default)("19c5e963",content,!0,{sourceMap:!1})},1149:function(n,t,e){"use strict";e(1043)},1150:function(n,t,e){var o=e(52)(!1);o.push([n.i,'.announcement{width:100%;background:#fff;box-shadow:0 8px 32px rgba(0,0,0,.08);border-radius:4px;display:flex;flex-wrap:wrap}.announcement.active{border:2px solid #5f337b!important}.announcement .announcement-content{padding:20px;flex:1;min-width:350px}.announcement .announcement-content-header{display:flex;justify-content:space-between}.announcement .announcement-image.w-320{width:320px}.announcement .announcement-image.padding{padding:10px 0 10px 10px}.announcement .announcement-image.in-modal{min-width:160px;width:160px}.announcement .announcement-image img{border-radius:4px;width:100%}.announcement .announcement-image .announcement-date{display:flex;align-items:center;justify-content:center;height:100%;width:100%;flex-direction:column;background:radial-gradient(50% 50% at 50%,at 50%,#5f337b 0,#40125e 100%);background:radial-gradient(50% 50% at 50% 50%,#5f337b 0,#40125e 100%);border-radius:5px;padding:30px}.announcement .announcement-image .announcement-date p{margin:0;font-family:"Roboto";font-style:normal;font-weight:500;font-size:28px;line-height:34px;letter-spacing:.0038em;color:#fff}.announcement .announcement-title{font-family:"Roboto";font-style:normal;font-weight:600;font-size:16px;line-height:20px;color:#2b2d33;margin:0}.announcement .announcement-info{line-height:22px;color:#9ba6ac}.announcement .announcement-info,.announcement .announcement-text{font-family:"Roboto";font-style:normal;font-weight:400;font-size:14px;margin:8px 0 0}.announcement .announcement-text{line-height:140%;color:#404247}.announcement .announcement-content-text{padding-top:15px}.announcement .announcement-content-text b{font-weight:600}.announcement .announcement-content-text p{margin:0}.max-3-word{display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}',""]),n.exports=o},1300:function(n,t,e){"use strict";e.r(t);e(22),e(2),e(12),e(25);var o={head:function(){return{title:"".concat(this.title," | MIS tbteam.uz")}},computed:{role:function(){return this.$store.state.auth.user?this.$store.state.auth.user.role.name:""}},data:function(){return{title:"Announcement",items:[{text:"Announcement List",active:!0}],loading:!1,rows:[],perPage:10,currentPage:1}},methods:{_Get:function(){var n=this;this.loading=!0,this.$axios.get("/announcement/?page=".concat(this.currentPage)).then((function(t){n.rows=t.data})).finally((function(){n.loading=!1}))},GetMonths:function(data){var n=data.split(".");return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dek"][n=parseInt(n[1])-1]},GetDay:function(data){return data.split(".")[0]},pageChanged:function(){var n=this;this.$nextTick((function(){n._Get()}))}},mounted:function(){this._Get()},middleware:"auth"},c=(e(1149),e(16)),component=Object(c.a)(o,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}]},[e("PageHeader",{attrs:{title:n.title,items:n.items}}),n._v(" "),["branch_admin"].includes(n.role)?e("div",{staticClass:"d-flex justify-content-end pb-3"},[e("div",[e("nuxt-link",{attrs:{to:"/announcement/add"}},[e("b-button",{staticClass:"d-flex align-items-center",attrs:{size:"md",variant:"success"}},[e("i",{staticClass:" ri-add-circle-fill m-0 mr-1"}),n._v(" Add News ")])],1)],1)]):n._e(),n._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[n._l(n.rows.results,(function(t,i){return e("div",{key:i,staticClass:"mb-2"},[e("nuxt-link",{attrs:{to:"/announcement/"+t.id}},[e("div",{staticClass:"announcement",class:{active:!t.was_read&&null!=t.was_read}},[t.photo?e("div",{staticClass:"announcement-image padding w-320"},[e("img",{attrs:{src:t.photo,alt:""}})]):e("div",{staticClass:"announcement-image w-320"},[e("div",{staticClass:"announcement-date"},[e("p",[n._v(" "+n._s(n.GetDay(t.created_at))+" ")]),n._v(" "),e("p",[n._v(" "+n._s(n.GetMonths(t.created_at))+" ")])])]),n._v(" "),e("div",{staticClass:"announcement-content hover"},[e("div",{staticClass:"announcement-content-header"},[e("div",{staticClass:"announcement-content-header-left"},[e("h1",{staticClass:"announcement-title"},[n._v(" "+n._s(t.title)+" ")]),n._v(" "),e("p",{staticClass:"announcement-info"},[e("i",{staticClass:"mdi mdi-eye"}),n._v(" "+n._s(t.read_count)+" | "+n._s(t.created_at)+" | "+n._s(t.sender.first_name)+" "+n._s(t.sender.last_name)+" ")])])]),n._v(" "),e("div",{staticClass:"announcement-content-text max-3-word",domProps:{innerHTML:n._s(t.description)}})])])])],1)})),n._v(" "),n.rows&&n.rows.count>10?e("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right mb-3 mt-3"},[e("ul",{staticClass:"pagination pagination-rounded mb-0"},[e("b-pagination",{attrs:{"total-rows":n.rows.count,"per-page":n.perPage},on:{change:n.pageChanged},model:{value:n.currentPage,callback:function(t){n.currentPage=t},expression:"currentPage"}})],1)]):n._e()],2)])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PageHeader:e(837).default})},837:function(n,t,e){"use strict";e.r(t);var o=e(35),c={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}},computed:Object(o.c)(["layout"])},l=e(16),component=Object(l.a)(c,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"page-title-box",class:{"page-title-box-alt":"vertical"!==n.layout.layoutType&&"two-column"!==n.layout.layoutType}},[e("h4",{staticClass:"page-title"},[n._v(n._s(n.title))]),n._v(" "),e("div",{staticClass:"page-title-right"},[e("b-breadcrumb",{staticClass:"m-0",attrs:{items:n.items}})],1)])])])}),[],!1,null,null,null);t.default=component.exports}}]);