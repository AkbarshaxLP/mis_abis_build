(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{887:function(t,e,n){var content=n(898);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("4b13dc84",content,!0,{sourceMap:!1})},889:function(t,e,n){"use strict";n.r(e);n(8),n(7),n(9),n(10);var c=n(0),r=(n(2),n(42),n(43),n(6),n(4),n(14),n(173),n(35));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var o={props:["id"],components:{apexchart:function(){return n.e(1).then(n.t.bind(null,890,7))}},computed:l(l({},Object(r.b)("dictionary",["dic_academic_year"])),{},{me:function(){return this.$store.state.auth},semester_list:function(){var t=this,data=[];return this.dic_academic_year.forEach((function(element){element.id==t.academic_year&&(data=element.semesters)})),data},cur_academic_year:function(){var t=this,data="";return this.dic_academic_year.forEach((function(element){data=element.current_academicyear?element.id:t.dic_academic_year[0].id})),this.academic_year=data,data},cur_semester:function(){var data="";return this.dic_academic_year.forEach((function(element){element.current_academicyear&&element.semesters.forEach((function(t){t.current_semester&&(data=t.id)}))})),data},months_list:function(){var t=this;return this.month?this.gradeMonthsList.filter((function(e){return e.month_id==t.month})):this.gradeMonthsList}}),data:function(){return{academic_year:"",loading:!1,semester:"",gradeList:[],student:{},series:[{name:"High - 2013",data:[28,29,33,36,32,32,33]}],attendance_list:{},chartList:[{options:{chart:{type:"area",height:300},dataLabels:{enabled:!1},markers:{size:5},colors:["#00E396"]},series:[{name:"High - 2013",data:[28,29,33,36,32,32,33]}]}],options:{chart:{type:"area",height:350},dataLabels:{enabled:!1},markers:{size:5},yaxis:{min:0,max:100},tooltip:{theme:"dark"}},generatedData:[],gradeAcademicyear:{options:{chart:{type:"area",height:400},dataLabels:{enabled:!1},markers:{size:5},xaxis:{},labels:[],yaxis:{min:0,max:100},tooltip:{theme:"dark"}},series:[]}}},watch:{cur_academic_year:function(){this.academic_year=this.cur_academic_year,this.semester=""},semester:function(){this._GetGrade()},academic_year:function(){this.GetGradeAcademicYear(),this._GetAttendance()},id:function(){this.GetGradeAcademicYear(),this._GetAttendance()}},methods:{_GetAttendance:function(){var t=this,e=this.id&&this.id?this.id:this.$route.params.id;this.$axios.get("/studentattendanceforadmin?student=".concat(e,"&academic_year=").concat(this.academic_year,"&limit=1000")).then((function(e){t.attendance_list=e.data}))},_GetGrade:function(){var t=this;this.loading=!0;var e=this.id?this.id:this.$route.params.id;this.$axios.get("/gradebookadminlist/?student=".concat(e,"&semester=").concat(this.semester,"&limit=1000")).then((function(e){t.gradeList=e.data.data,t.GenerateChartData()})).finally((function(){t.loading=!1}))},GenerateChartData:function(){var t=[],data=[];this.gradeList.lesson.forEach((function(e){t=[];var n=[];e.gradebook.forEach((function(e){e.gradebook&&(n.push(e.gradebook_date),t.push(e.gradebook))})),data.push({name:e.subject_name,options:{chart:{type:"area",height:350},dataLabels:{enabled:!1},markers:{size:3},noData:{Text:"No data"},xaxis:{categories:n,xAxisMode:"tick",xIsSeries:!0,labels:{hideOverlappingLabels:!1,rotate:0,offsetX:-10}},yaxis:{min:0,max:100},tooltip:{theme:"dark"}},series:[{name:e.subject_name,data:t}]})})),this.generatedData=data},GetGradeAcademicYear:function(){var t=this;this.loading=!0;var e=this.id&&this.id?this.id:this.$route.params.id;this.$axios.get("/chartforadminlist/?student=".concat(e,"&academic_year=").concat(this.academic_year)).then((function(e){var n=[],c=[],r=[];e.data&&e.data.lessons&&e.data.lessons.forEach((function(t){r=[],c=[],t.semesters.forEach((function(t,i){console.log("A"),r.push("".concat(i+1,"-term")),c.push(t.total_av.toFixed(1))})),n.push({name:t.subject_name,data:c})})),t.loading=!1,t.gradeAcademicyear.options.labels=r,t.gradeAcademicyear.series=n})).catch((function(){t.loading=!1}))},AttendanceGetter:function(t,e){var data=0;return this.attendance_list&&this.attendance_list.semesters&&this.attendance_list.semesters.length&&(e?this.attendance_list.semesters.forEach((function(element){element.id==e&&(data=element[t])})):this.attendance_list.semesters.forEach((function(element){data+=element[t]}))),data}},created:function(){this.cur_academic_year&&(this.academic_year=this.cur_academic_year,this.GetGradeAcademicYear(),this._GetAttendance())}},h=(n(897),n(16)),component=Object(h.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"student-chart"},[n("header",{staticClass:"d-flex align-items-center justify-content-between mb-3"},[t.attendance_list&&t.attendance_list.first_name?n("h4",{staticClass:"m-0"},[n("i",{staticClass:"el-icon-user-solid mr-1"}),t._v("  "+t._s(t._f("fio")(t.attendance_list))+" ")]):t._e(),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("el-select",{staticClass:" w-full ml-1",attrs:{placeholder:"Academic Year"},model:{value:t.academic_year,callback:function(e){t.academic_year=e},expression:"academic_year"}},t._l(t.dic_academic_year,(function(t,i){return n("el-option",{key:i,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),n("el-select",{staticClass:" w-full ml-1",attrs:{placeholder:"Term",clearable:""},model:{value:t.semester,callback:function(e){t.semester=e},expression:"semester"}},t._l(t.semester_list,(function(t,i){return n("el-option",{key:i,attrs:{label:i+1+"-term",value:t.id}})})),1)],1)]),t._v(" "),t.loading?t._e():n("div",{staticClass:"student-chart-attandance"},[n("div",{staticClass:"student-chart-attandance-item"},[n("div",{staticClass:"student-chart-attandance-card"},[n("div",{staticClass:"student-chart-attandance-card-left"},[n("h1",[t._v(" "+t._s(t.AttendanceGetter("total_present",t.semester))+" ")]),t._v(" "),n("p",[t._v("Total Present")])]),t._v(" "),t._m(0)])]),t._v(" "),n("div",{staticClass:"student-chart-attandance-item"},[n("div",{staticClass:"student-chart-attandance-card"},[n("div",{staticClass:"student-chart-attandance-card-left"},[n("h1",[t._v(t._s(t.AttendanceGetter("total_absent",t.semester)))]),t._v(" "),n("p",[t._v("Total Absent")])]),t._v(" "),t._m(1)])]),t._v(" "),n("div",{staticClass:"student-chart-attandance-item"},[n("div",{staticClass:"student-chart-attandance-card"},[n("div",{staticClass:"student-chart-attandance-card-left"},[n("h1",[t._v(t._s(t.AttendanceGetter("total_late",t.semester)))]),t._v(" "),n("p",[t._v("Total Late")])]),t._v(" "),t._m(2)])]),t._v(" "),n("div",{staticClass:"student-chart-attandance-item"},[n("div",{staticClass:"student-chart-attandance-card"},[n("div",{staticClass:"student-chart-attandance-card-left"},[n("h1",[t._v(t._s(t.AttendanceGetter("total_excused",t.semester)))]),t._v(" "),n("p",[t._v("Total Excused")])]),t._v(" "),t._m(3)])])]),t._v(" "),t.loading?t._e():n("h4",{staticClass:"m-0 mb-2 mt-3"},[t._v("Grades ")]),t._v(" "),t.semester?n("div",[!t.loading&&t.generatedData.length?n("div",{attrs:{id:"wrapper1"}},t._l(t.generatedData,(function(e,i){return n("div",{key:i,staticClass:"fixed-labels"},[n("p",{staticClass:"m-0 font-14 font-weight-bold"},[t._v(" "+t._s(e.name)+" ")]),t._v(" "),n("apexchart",{attrs:{type:"area",height:"350",options:e.options,series:e.series}})],1)})),0):t.loading?n("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[n("i",{staticClass:"el-icon-loading"}),t._v(" "),n("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):n("div",{staticClass:"empty-time-table",staticStyle:{height:"500px"}},[t._m(4)])]):n("div",[!t.loading&&t.gradeAcademicyear&&t.gradeAcademicyear.series&&t.gradeAcademicyear.series.length?n("div",{attrs:{id:"wrapper1"}},[n("apexchart",{attrs:{type:"area",height:"400",options:t.gradeAcademicyear.options,series:t.gradeAcademicyear.series}})],1):t.loading?n("div",{staticClass:"table-loader",staticStyle:{height:"500px"}},[n("i",{staticClass:"el-icon-loading"}),t._v(" "),n("p",{staticClass:"m-0 mt-1"},[t._v("loading...")])]):n("div",{staticClass:"empty-time-table",staticStyle:{height:"500px"}},[t._m(5)])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"student-chart-attandance-card-right"},[n("div",{staticClass:"attandance-status"},[t._v("P")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"student-chart-attandance-card-right"},[n("div",{staticClass:"attandance-status absent"},[t._v("A")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"student-chart-attandance-card-right"},[n("div",{staticClass:"attandance-status late"},[t._v("L")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"student-chart-attandance-card-right"},[n("div",{staticClass:"attandance-status absent excused"},[t._v("E")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-center"},[n("i",{staticClass:"mdi mdi-timer-outline font-20"}),t._v(" "),n("br"),t._v("\n                Timetable has not created yet!\n            ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-center"},[n("i",{staticClass:"mdi mdi-timer-outline font-20"}),t._v(" "),n("br"),t._v("\n                No data!\n            ")])}],!1,null,"17226af7",null);e.default=component.exports},897:function(t,e,n){"use strict";n(887)},898:function(t,e,n){var c=n(52)(!1);c.push([t.i,".student-chart-attandance[data-v-17226af7]{display:flex;align-items:center;margin-bottom:20px;padding:0 10px}.student-chart-attandance .student-chart-attandance-item[data-v-17226af7]{padding:10px;width:25%}.student-chart-attandance svg[data-v-17226af7]{overflow-y:auto!important}.student-chart-attandance .student-chart-attandance-card[data-v-17226af7]{width:100%;box-shadow:0 12px 48px rgba(26,50,52,.05);background:#fff;border-radius:10px;display:flex;align-items:center;position:relative;overflow:hidden;min-height:80px}.student-chart-attandance .student-chart-attandance-card-left[data-v-17226af7]{padding:20px}.student-chart-attandance .student-chart-attandance-card-left h1[data-v-17226af7]{font-size:24px;line-height:24px;font-weight:800;margin:0 0 10px}.student-chart-attandance .student-chart-attandance-card-left p[data-v-17226af7]{font-size:16px;margin:0;line-height:16px}.student-chart-attandance .attandance-status[data-v-17226af7]{width:80px;height:80px;border-radius:50%;background:#19b28d;color:#fff;position:absolute;top:-30px;right:-30px;padding:40px 30px 10px 10px;display:flex;justify-content:center;font-size:16px;font-weight:700}.student-chart-attandance .attandance-status.absent[data-v-17226af7]{background:#ed6c66}.student-chart-attandance .attandance-status.late[data-v-17226af7]{background:#f5b200}.student-chart-attandance .attandance-status.excused[data-v-17226af7]{background:#6c757d}.fixed-labels svg[data-v-17226af7]{overflow-y:auto!important}.fixed-labels .apexcharts-xaxis-label[data-v-17226af7]{display:none}.fixed-labels .apexcharts-xaxis-label[data-v-17226af7]:last-child{display:revert}.fixed-labels .apexcharts-xaxis-label[data-v-17226af7]:first-child{transform:translateX(40px);display:revert}.fixed-labels .apexcharts-xaxis-label[data-v-17226af7]:nth-child(25n){display:revert}",""]),t.exports=c}}]);