(window.webpackJsonp=window.webpackJsonp||[]).push([[223],{1021:function(t,e,o){"use strict";o(979)},1022:function(t,e,o){var n=o(52)(!1);n.push([t.i,".topic-list .t-item{margin-bottom:30px}.topic-list .t-item header{border-bottom:1px solid #5f337b;display:flex;justify-content:space-between;align-items:center}.topic-list .t-item header h1{font-weight:500;font-size:22px;line-height:26px;color:#5f337b;margin-bottom:12px}.topic-list .t-item header .menu{font-size:18px;cursor:pointer}.topic-list .t-item .book-list{list-style:none;padding:0;margin-bottom:0}.topic-list .t-item .book-list .book-list-bottom{border-bottom:1px solid #edeff1}.topic-list .t-item .book-list li a{padding:10px 16px 2px}.topic-list .t-item .book-list li section{margin-right:12px;width:36px}.topic-list .t-item .book-list li h1{font-weight:500;font-size:16px;line-height:16px;color:#404247}.topic-list .t-item .book-list li span{font-weight:400;font-size:13px;line-height:16px;text-align:right;color:#aaabad;margin-left:auto}.topic-list .t-item .book-list li .assignment-items{display:flex;align-items:center;padding-top:8px;padding-left:48px}.topic-list .t-item .book-list li .assignment-items p{margin:0 10px 0 0}.l-stream{display:flex;align-items:flex-start;position:relative}.l-stream .left{width:240px;padding:16px;background:#fff;border-radius:4px;margin-right:24px;display:flex;flex-direction:column}.l-stream .left.with-border{border:1px solid #e7eaed}.l-stream .left h1{margin-bottom:12px;font-weight:700;font-size:16px;line-height:19px;color:#2b2d33}.l-stream .left p{color:#6c757d;margin-bottom:12px}.l-stream .left .show-all,.l-stream .left p{font-weight:400;font-size:14px;line-height:16px}.l-stream .left .show-all{border:none;padding:0;background-color:transparent;margin-left:auto;text-align:right;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#08c}.l-stream .right{flex:1}.l-stream .bg-header{padding:24px;background:#f2f5f7}.stream-body{margin:0;list-style:none;padding:24px}.stream-body li{display:flex;padding-top:16px}.stream-body li:not(:last-child){border-bottom:1px solid #f4f4f4}.stream-body li section{margin-right:16px}.stream-body li section img{width:40px;height:40px;border-radius:50%;-o-object-fit:cover;object-fit:cover}.stream-body li .content header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.stream-body li .content header h1{font-weight:600;font-size:14px;line-height:16px;color:#2b2d33;margin-bottom:4px;margin-top:0}.stream-body li .content header span{font-weight:400;font-size:14px;line-height:16px;text-transform:uppercase;color:#6e768e}.light-p{color:#aaabad}",""]),t.exports=n},1110:function(t,e,o){"use strict";o.r(e);o(7),o(9),o(10);var n=o(0),r=(o(22),o(2),o(6),o(4),o(8),o(35));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={computed:c(c({},Object(r.b)("dictionary",["dic_academic_year"])),{},{role:function(){return this.$store.state.auth.user?this.$store.state.auth.user.role.name:""},semester_list:function(){var t=this,data=[];return this.dic_academic_year.forEach((function(element){element.current_academicyear&&(element.semesters.forEach((function(e){e.current_semester&&(t.form.semester=e.id)})),data=element.semesters)})),data},cur_academic_year:function(){var data="";return this.dic_academic_year.forEach((function(element){element.current_academicyear&&(data=element.id)})),data},cur_semester:function(){var t=this,data="";return this.dic_academic_year.forEach((function(element){element.current_academicyear&&(t.filter.academic_year=element.id,element.semesters.forEach((function(t){t.current_semester&&(data=t.id)})))})),data}}),data:function(){return{show:!1,form:{name:"",lesson:this.$route.params.id},activeTopic:null,topics:[],topic:{user:{},materials:[],assignments:[]},loading:!1}},methods:{save:function(){var t=this;this.$refs.form.validate().then((function(e){if(e){t.loading=!0;var o=t.form.id,n=o?o+"/":"";t.$axios({url:"/topic/"+n,method:o?"PATCH":"POST",data:t.form}).then((function(){o?t.$swal.fire({icon:"success",title:"Topic is edited success.",confirmButtonText:"Ok",timer:1500}):t.$swal.fire({icon:"success",title:"Topic is created success.",confirmButtonText:"Ok",timer:1500}),t.$emit("filtering"),t.show=!1,t.form.name="",t.form.id="",t._Get()})).catch((function(e){var o=e.response.data,n=o[Object.keys(o)[0]];t.$notify.error({message:n||"Произошла ошибка"})})).finally((function(){t.loading=!1}))}}))},edit:function(t){this.form.id=t.id,this.form.name=t.name,this.form.lesson=t.lesson,this.show=!0},_Get:function(){var t=this;this.loading=!0,this.$axios.get("/topic/?lesson=".concat(this.$route.params.id)).then((function(e){t.topics=e.data.results})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},deleteTopic:function(t){var e=this;this.$confirm("Are you sure to delete this Topic?","Warning!",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){0==t.materials.length&&0==t.assignments.length&&e.$axios.delete("/topic/".concat(t.id)).then((function(){e.$swal.fire({icon:"success",title:"Topic is deleted success.",confirmButtonText:"Ok",timer:1500}),e._Get()})).catch((function(){e.$swal.fire({icon:"error",title:"Topic is not deleted!",text:"Server is not working! Please try again leter.",confirmButtonText:"Ok",timer:1500})}))})).catch((function(){}))},filterTopic:function(t){this.activeTopic=t,null!=t&&(this.topic=this.topics[t])}},mounted:function(){this._Get()}},m=(o(1021),o(16)),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("header",{staticClass:"mb-4"},[n("h4",[t._v("Classwork")]),t._v(" "),n("div",{staticClass:"l-stream"},[n("div",{staticClass:"item left"},[n("p",{staticClass:"cursor-pointer",class:{"font-weight-bold":null==t.activeTopic},on:{click:function(e){return t.filterTopic(null)}}},[t._v("All Topics")]),t._v(" "),t.topics?n("div",{staticClass:"topic-list"},t._l(t.topics,(function(e,o){return n("div",{key:o,on:{click:function(e){return t.filterTopic(o)}}},[n("p",{staticClass:"cursor-pointer",class:{"font-weight-bold":t.activeTopic==o}},[t._v(t._s(e.name))])])})),0):t._e()]),t._v(" "),n("div",{staticClass:"item right d-flex flex-column"},[["teacher"].includes(t.role)?n("b-button",{staticClass:"mb-3 ml-auto",attrs:{size:"md",variant:"success"},on:{click:function(e){t.show=!0}}},[n("i",{staticClass:"mdi mdi-plus-circle"}),t._v(" Create\n                ")]):t._e(),t._v(" "),null!=t.activeTopic?n("div",{staticClass:"topic-list"},[n("div",{staticClass:"t-item"},[n("header",[n("h1",[t._v(" "+t._s(t.topic.name))]),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("p",{staticClass:"m-0 mr-2 light-p"},[t._v(" "+t._s(t.topic.user.last_name)+" "+t._s(t.topic.user.first_name)+" ")]),t._v(" "),["teacher"].includes(t.role)?n("b-dropdown",{staticClass:"float-right",attrs:{"toggle-class":"card-drop p-0 ",variant:"black",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("i",{staticClass:"mdi mdi-dots-vertical"})]},proxy:!0}],null,!1,513572491)},[t._v(" "),n("b-dropdown-item",{attrs:{to:"/lessons/in-group/assignment/add?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+t.topic.id+"&topic_name="+t.topic.name}},[n("p",{staticClass:"m-0",staticStyle:{color:"#2B2D33"}},[n("i",{staticClass:"mdi mdi-clipboard-text-outline mr-2"}),t._v("Add assignment")])]),t._v(" "),n("b-dropdown-item",{attrs:{to:"/lessons/in-group/material/add?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+t.topic.id+"&topic_name="+t.topic.name}},[n("p",{staticClass:"m-0",staticStyle:{color:"#2B2D33"}},[n("i",{staticClass:"mdi mdi-book-outline mr-2"}),t._v("Add material")])]),t._v(" "),n("b-dropdown-item-button",{on:{click:function(e){return t.edit(t.topic)}}},[n("span",{staticStyle:{color:"#2B2D33"},on:{click:function(e){return t.edit(t.topic)}}},[n("i",{staticClass:" mdi mdi-pencil mr-2"}),t._v("Edit topic")])]),t._v(" "),n("b-dropdown-item-button",{attrs:{disabled:!(!t.topic.materials.length&&!t.topic.assignments.length)},on:{click:function(e){return t.deleteTopic(t.topic)}}},[n("span",{class:{"opacity-6":t.topic.materials.length||t.topic.assignments.length},staticStyle:{color:"#2B2D33"}},[n("i",{staticClass:" mdi mdi-delete mr-2"}),t._v("Delete topic\n                                        ")])])],1):t._e()],1)]),t._v(" "),t.topic.materials.length||t.topic.assignments.length?n("div",{staticClass:"f-wull"},[t.topic.assignments?n("ul",{staticClass:"book-list"},t._l(t.topic.assignments,(function(e,r){return n("li",{key:r,staticClass:"book-list-bottom"},[n("div",{staticClass:"assignment-item"},[n("nuxt-link",{attrs:{to:"/lessons/in-group/assignment/"+e.id+"?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+t.topic.id+"&topic_name="+t.topic.name}},[n("div",{staticClass:"d-flex justify-between align-items-center w-full"},[n("section",[n("img",{attrs:{src:o(978)}})]),t._v(" "),n("h1",[t._v(t._s(e.title))]),t._v(" "),n("span",[t._v("Posted "+t._s(e.created_at)+" ")])]),t._v(" "),n("div",{staticClass:"assignment-items"},[(e.student_count||0==e.student_count)&&["teacher"].includes(t.role)?n("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[n("i",[t._v("Assigned: "),n("strong",[t._v(" "+t._s(e.student_count)+" ")])])]):t._e(),t._v(" "),(e.to_check||0==e.to_check)&&["teacher"].includes(t.role)?n("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[n("i",[t._v("To сheck: "),n("strong",[t._v(t._s(e.to_check)+" ")])])]):t._e(),t._v(" "),(e.graded||0==e.graded)&&["teacher"].includes(t.role)?n("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[n("i",[t._v("Graded: "),n("strong",[t._v(t._s(e.graded)+" ")])])]):t._e(),t._v(" "),e.due_date_time||0==e.due_date_time?n("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[n("i",[t._v("Due date: "),n("strong",[t._v(t._s(e.due_date_time)+" ")])])]):t._e()])])],1)])})),0):t._e(),t._v(" "),t.topic.materials?n("ul",{staticClass:"book-list"},t._l(t.topic.materials,(function(e,i){return n("li",{key:i},[n("div",[n("nuxt-link",{attrs:{to:"/lessons/in-group/material/"+e.id+"?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+t.topic.id+"&topic_name="+t.topic.name}},[n("div",{staticClass:"d-flex justify-between align-items-center w-full"},[n("section",[n("img",{attrs:{src:o(960)}})]),t._v(" "),n("h1",[t._v(" "+t._s(e.title)+" ")]),t._v(" "),n("span",[t._v("Posted "+t._s(e.created_at)+" ")])])])],1)])})),0):t._e()]):n("div",[n("p",{staticClass:"m-0 mt-2 "},[t._v("Students will see this topic once work is added to it")])])])]):n("div",{staticClass:"topic-list"},t._l(t.topics,(function(e,r){return n("div",{key:r,staticClass:"t-item"},[n("header",[n("h1",[t._v(" "+t._s(e.name))]),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("p",{staticClass:"m-0 mr-2 light-p"},[t._v(" "+t._s(e.user.last_name)+" "+t._s(e.user.first_name)+" ")]),t._v(" "),["teacher"].includes(t.role)?n("b-dropdown",{staticClass:"float-right",attrs:{"toggle-class":"card-drop p-0 ",variant:"black",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("i",{staticClass:"mdi mdi-dots-vertical"})]},proxy:!0}],null,!0)},[t._v(" "),n("b-dropdown-item",{attrs:{to:"/lessons/in-group/assignment/add?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+e.id+"&topic_name="+e.name}},[n("p",{staticClass:"m-0",staticStyle:{color:"#2B2D33"}},[n("i",{staticClass:"mdi mdi-clipboard-text-outline mr-2"}),t._v("Add assignment")])]),t._v(" "),n("b-dropdown-item",{attrs:{to:"/lessons/in-group/material/add?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+e.id+"&topic_name="+e.name}},[n("p",{staticClass:"m-0",staticStyle:{color:"#2B2D33"}},[n("i",{staticClass:"mdi mdi-book-outline mr-2"}),t._v("Add material")])]),t._v(" "),n("b-dropdown-item-button",{on:{click:function(o){return t.edit(e)}}},[n("span",{staticStyle:{color:"#2B2D33"},on:{click:function(o){return t.edit(e)}}},[n("i",{staticClass:" mdi mdi-pencil mr-2"}),t._v("Edit topic")])]),t._v(" "),n("b-dropdown-item-button",{attrs:{disabled:!(!e.materials.length&&!e.assignments.length)},on:{click:function(o){return t.deleteTopic(e)}}},[n("span",{class:{"opacity-6":e.materials.length||e.assignments.length},staticStyle:{color:"#2B2D33"}},[n("i",{staticClass:" mdi mdi-delete mr-2"}),t._v("Delete topic\n                                        ")])])],1):t._e()],1)]),t._v(" "),e.materials.length||e.assignments.length?n("div",{staticClass:"f-wull"},[n("ul",{staticClass:"book-list"},t._l(e.assignments,(function(r,i){return n("li",{key:i,staticClass:"book-list-bottom"},[n("div",{staticClass:"assignment-item"},[n("nuxt-link",{attrs:{to:"/lessons/in-group/assignment/"+r.id+"?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+e.id+"&topic_name="+e.name}},[n("div",{staticClass:"d-flex justify-between align-items-center w-full"},[n("section",[n("img",{attrs:{src:o(978)}})]),t._v(" "),n("h1",[t._v(t._s(r.title))]),t._v(" "),n("span",[t._v("Posted "+t._s(r.created_at)+" ")])]),t._v(" "),n("div",{staticClass:"assignment-items"},[(r.student_count||0==r.student_count)&&["teacher"].includes(t.role)?n("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[n("i",[t._v("Assigned: "),n("strong",[t._v(" "+t._s(r.student_count)+" ")])])]):t._e(),t._v(" "),(r.to_check||0==r.to_check)&&["teacher"].includes(t.role)?n("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[n("i",[t._v("To сheck: "),n("strong",[t._v(t._s(r.to_check)+" ")])])]):t._e(),t._v(" "),(r.graded||0==r.graded)&&["teacher"].includes(t.role)?n("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[n("i",[t._v("Graded: "),n("strong",[t._v(t._s(r.graded)+" ")])])]):t._e(),t._v(" "),r.due_date_time||0==r.due_date_time?n("p",{staticClass:"m-0 mr-2 font-12 text-muted"},[n("i",[t._v("Due date: "),n("strong",{class:{"color-red":r.deadline}},[t._v(t._s(r.due_date_time)+" ")])])]):t._e()])])],1)])})),0),t._v(" "),n("ul",{staticClass:"book-list"},t._l(e.materials,(function(r,l){return n("li",{key:l},[n("div",[n("nuxt-link",{attrs:{to:"/lessons/in-group/material/"+r.id+"?lesson="+t.$route.params.id+"&lesson_name="+t.$route.query.lesson_name+"&topic="+e.id+"&topic_name="+e.name}},[n("div",{staticClass:"d-flex justify-between align-items-center w-full"},[n("section",[n("img",{attrs:{src:o(960)}})]),t._v(" "),n("h1",[t._v(" "+t._s(r.title)+" ")]),t._v(" "),n("span",[t._v("Posted "+t._s(r.created_at)+" ")])])])],1)])})),0)]):n("div",[n("p",{staticClass:"m-0 mt-2 "},[t._v("Students will see this topic once work is added to it")])])])})),0)],1)])]),t._v(" "),["teacher"].includes(t.role)?n("b-modal",{attrs:{title:"Add Topic",size:"md","title-class":"font-18","body-class":"p-4"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.cancel;return[n("b-button",{attrs:{size:"md"},on:{click:function(t){return o()}}},[t._v(" Cancel ")]),t._v(" "),n("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(e){return t.save()}}},[t._v(" Save ")])]}}],null,!1,584809072),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("ValidationObserver",{ref:"form"},[n("div",{staticClass:"mb-2"},[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("p",{staticClass:"mb-1"},[t._v("Semester:* ")]),t._v(" "),n("el-select",{staticClass:"w-full foniy-select",class:{invalid:o[0]},attrs:{"collapse-tags":!0,placeholder:"Choose semester"},model:{value:t.form.semester,callback:function(e){t.$set(t.form,"semester",e)},expression:"form.semester"}},t._l(t.semester_list,(function(t,i){return n("el-option",{key:i,attrs:{value:t.id,label:i+1+"-term"}})})),1)]}}],null,!1,1975178727)})],1),t._v(" "),n("div",{staticClass:"mb-2"},[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("p",{staticClass:"mb-1"},[t._v("Topic:* ")]),t._v(" "),n("b-input",{class:{invalid:o[0]},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})]}}],null,!1,1502041297)})],1)])],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},960:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiByeD0iMTgiIGZpbGw9IiNBQUFCQUQiLz4KPHBhdGggZD0iTTI0IDhDMjQuNTMwNCA4IDI1LjAzOTEgOC4yMTA3MSAyNS40MTQyIDguNTg1NzlDMjUuNzg5MyA4Ljk2MDg2IDI2IDkuNDY5NTcgMjYgMTBWMjZDMjYgMjYuNTMwNCAyNS43ODkzIDI3LjAzOTEgMjUuNDE0MiAyNy40MTQyQzI1LjAzOTEgMjcuNzg5MyAyNC41MzA0IDI4IDI0IDI4SDEyQzExLjQ2OTYgMjggMTAuOTYwOSAyNy43ODkzIDEwLjU4NTggMjcuNDE0MkMxMC4yMTA3IDI3LjAzOTEgMTAgMjYuNTMwNCAxMCAyNlYxMEMxMCA5LjQ2OTU3IDEwLjIxMDcgOC45NjA4NiAxMC41ODU4IDguNTg1NzlDMTAuOTYwOSA4LjIxMDcxIDExLjQ2OTYgOCAxMiA4SDI0Wk0yNCAxMEgxOVYxOEwxNi41IDE1Ljc1TDE0IDE4VjEwSDEyVjI2SDI0VjEwWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="},978:function(t,e,o){t.exports=o.p+"img/as.bc7434b.svg"},979:function(t,e,o){var content=o(1022);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("6a851ab8",content,!0,{sourceMap:!1})}}]);