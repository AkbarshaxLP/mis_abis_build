(window.webpackJsonp=window.webpackJsonp||[]).push([[237,41],{1312:function(t,e,r){"use strict";r.r(e);r(7),r(9),r(6),r(10);var n=r(11),l=r(0),o=(r(61),r(22),r(2),r(4),r(8),r(35));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={head:function(){return{title:"".concat(this.title," | MIS tbteam.uz")}},data:function(){return{students_filter:"all_students",loading:!1,data:{results:[]},current_course:null,courses:[],title:"Childrens",items:[{text:"Childrens",active:!0}],currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:{},filterOn:[],sortBy:"age",sortDesc:!1,fields:[{label:"#",key:"index",sortable:!1},{label:"",key:"avatar",sortable:!1},{label:"Full Name",key:"full_name",sortable:!1},{label:"Group",key:"group",sortable:!1},{label:"Branch",key:"branch"},{label:"Grade",key:"grade"},{label:"",key:"actions",sortable:!1}]}},computed:d(d({},Object(o.b)("dictionary",["dic_branch","dic_social_status","dic_academic_year"])),{},{totalRows:function(){return this.data.count},role:function(){var t;return null===(t=this.$store.state.auth.user)||void 0===t?void 0:t.role.name}}),watch:{students_filter:function(t){}},created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.__GET();case 2:case"end":return e.stop()}}),e)})))()},methods:{pageChanged:function(t){this.__GET()},rowClass:function(t,e){return"tr-vertical-align-middle"},__GET:function(){var t=this;this.$nextTick((function(){t.loading=!0,t.$axios({method:"GET",params:d(d({},t.filter),{},{page:t.currentPage},{student_group:t.students_filter}),url:"/users/children"}).then((function(e){t.data=e.data})).finally((function(){t.loading=!1}))}))},onFiltered:function(t){this.currentPage=1},rmItem:function(t){var e=this;this.$Swal.fire({title:"Are you sure you want to remove this student?",type:"warning",showCancelButton:!0,confirmButtonText:"Delete!",cancelButtonText:"Cancel!",confirmButtonClass:"btn btn-danger mt-2",cancelButtonClass:"btn btn-primary ml-2 mt-2",buttonsStyling:!1}).then((function(r){r.value&&(e.loading=!0,e.$axios.delete("/users/student/".concat(t,"/")).then((function(t){e.__GET(),e.$Swal.fire({title:"Deleted!",type:"info"})})).catch((function(t){var r=t.response.data,n=Object.keys(r),l="string"==typeof r[n[0]]?r[n[0]]:r[n[0]][0];e.$Swal.fire({title:"Error",text:l||"error has occurred",type:"error"})})).finally((function(){e.loading=!1})))}))}},middleware:"auth"},v=r(16),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"row mb-md-2 mb-3"},[t._m(0),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"dataTables_filter text-md-right",attrs:{id:"tickets-table_filter"}},[n("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\r\n                                    Search:\r\n                                    "),n("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.__GET()}},model:{value:t.filter.search,callback:function(e){t.$set(t.filter,"search",e)},expression:"filter.search"}})],1)])])]),t._v(" "),n("div",{staticClass:"foniy-table"},[n("table",{staticClass:"border-bottom"},[t._m(1),t._v(" "),t._l(t.data,(function(e,i){return n("tr",{key:i},[n("td",[t._v(" "+t._s(i+1)+" ")]),t._v(" "),n("td",{staticStyle:{width:"100px"}},[n("div",{staticClass:"user-table-image"},[e.photo?n("img",{attrs:{src:e.photo,alt:""}}):n("img",{attrs:{src:r(843),alt:""}})])]),t._v(" "),n("td",{staticClass:"text-underline"},[n("nuxt-link",{attrs:{to:"/tables/students/info/"+e.id}},[t._v(t._s(t._f("fio")(e)))])],1),t._v(" "),n("td",[t._v(" "+t._s(e.group)+" ")]),t._v(" "),n("td",[t._v(" "+t._s(e.branch)+" ")]),t._v(" "),n("td",[t._v(" "+t._s(e.grade)+" ")])])}))],2)]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[t.totalRows?n("ul",{staticClass:"pagination pagination-rounded mb-0"},[n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage},on:{change:t.pageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):t._e()])])])])])])])],1)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-6"},[r("h1",{staticClass:"font-24 m-0"},[t._v("My chilrdens")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",{staticClass:"bg-gray"},[r("th",{staticClass:"text-left font-weight-bold",staticStyle:{width:"50px"}},[t._v(" #")]),t._v(" "),r("th",{staticClass:"text-left font-weight-bold"}),t._v(" "),r("th",{staticClass:"text-left font-weight-bold"},[t._v(" Full name")]),t._v(" "),r("th",{staticClass:"text-left font-weight-bold"},[t._v(" Group")]),t._v(" "),r("th",{staticClass:"text-left font-weight-bold"},[t._v(" Branch")]),t._v(" "),r("th",{staticClass:"text-left font-weight-bold"},[t._v(" Grade")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{PageHeader:r(837).default})},837:function(t,e,r){"use strict";r.r(e);var n=r(35),l={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}},computed:Object(n.c)(["layout"])},o=r(16),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"page-title-box",class:{"page-title-box-alt":"vertical"!==t.layout.layoutType&&"two-column"!==t.layout.layoutType}},[r("h4",{staticClass:"page-title"},[t._v(t._s(t.title))]),t._v(" "),r("div",{staticClass:"page-title-right"},[r("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},843:function(t,e,r){t.exports=r.p+"img/default-avatar.26ed590.svg"}}]);